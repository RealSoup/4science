"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5032],{59214:(e,t,a)=>{a.d(t,{Z:()=>i});var r=a(23645),n=a.n(r)()((function(e){return e[1]}));n.push([e.id,".list .header[data-v-e8477458]{background-color:#ddd}.list .header .col[data-v-e8477458]{font-weight:700}.list .data[data-v-e8477458]{border-top:1px solid #ddd}.list .row .col[data-v-e8477458]{padding:.6rem 0}.list .row .col[data-v-e8477458]:first-child{flex:0 0 15%;max-width:15%;text-align:center}.list .row .col[data-v-e8477458]:nth-child(3){flex:0 0 15%;max-width:15%;text-align:right}.list .row .col[data-v-e8477458]:nth-child(4){flex:0 0 15%;max-width:15%;text-align:center}@media (max-width:768px){.list .header[data-v-e8477458]{display:none}.list .row .col[data-v-e8477458]{max-width:none!important;width:auto!important}.list .row .col[data-v-e8477458]:first-child{flex-basis:30%;flex-grow:0}.list .row .col[data-v-e8477458]:nth-child(2){flex-basis:70%;flex-grow:1}.list .row .col[data-v-e8477458]:nth-child(3),.list .row .col[data-v-e8477458]:nth-child(4){flex-basis:50%;flex-grow:0}}.request[data-v-e8477458]{margin-top:2rem}.request .row .col[data-v-e8477458]{text-align:center}",""]);const i=n},65032:(e,t,a)=>{a.r(t),a.d(t,{default:()=>u});var r=a(87757),n=a.n(r),i=a(44670);function o(e,t,a,r,n,i,o){try{var s=e[i](o),l=s.value}catch(e){return void a(e)}s.done?t(l):Promise.resolve(l).then(r,n)}function s(e){return function(){var t=this,a=arguments;return new Promise((function(r,n){var i=e.apply(t,a);function s(e){o(i,r,n,s,l,"next",e)}function l(e){o(i,r,n,s,l,"throw",e)}s(void 0)}))}}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function c(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const v={name:"MyMileageIndex",components:{Validation:function(){return a.e(3281).then(a.bind(a,3281))}},computed:function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){c(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},(0,a(20629).Se)({enableMileage:"auth/enableMileage"})),data:function(){return{frm:{},mileage:{},config:{}}},mounted:function(){this.index()},methods:{index:function(){var e=arguments,t=this;return s(n().mark((function a(){var r,o;return n().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=e.length>0&&void 0!==e[0]?e[0]:1,a.prev=1,a.next=4,i.Z.get("/api/mileage",{params:{page:r}});case 4:(o=a.sent)&&200===o.status&&(t.mileage=o.data.list,t.config=o.data.config),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),Notify.consolePrint(a.t0),Notify.toast("warning",a.t0.response.data.message);case 12:case"end":return a.stop()}}),a,null,[[1,8]])})))()},store:function(){var e=this;return s(n().mark((function t(){var a;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.frm.type||!e.frm.ea){t.next=18;break}if(console.log(e.enableMileage,e.config[e.frm.type].point*e.frm.ea),!(e.enableMileage<e.config[e.frm.type].point*e.frm.ea)){t.next=5;break}return Notify.modal("마일리지가 모자릅니다.","warning"),t.abrupt("return",!1);case 5:return t.prev=5,t.next=8,i.Z.post("/api/mileage",e.frm);case 8:(a=t.sent)&&200===a.status&&Notify.modal("신청 되었습니다.","info"),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(5),Notify.consolePrint(t.t0),Notify.toast("warning",t.t0.response.data.message);case 16:t.next=19;break;case 18:Notify.modal("신청 정보를 입력하세요.","warning");case 19:case"end":return t.stop()}}),t,null,[[5,12]])})))()}}};var d=a(93379),f=a.n(d),_=a(59214),m={insert:"head",singleton:!1};f()(_.Z,m);_.Z.locals;const u=(0,a(51900).Z)(v,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._m(0),e._v(" "),a("b-container",{staticClass:"list"},[a("b-row",{staticClass:"header"},[a("b-col",[e._v("적립일")]),e._v(" "),a("b-col",[e._v("내역")]),e._v(" "),a("b-col",[e._v("마일리지")]),e._v(" "),a("b-col",[e._v("*")])],1),e._v(" "),e._l(e.mileage.data,(function(t){return a("b-row",{key:t.ml_id,staticClass:"data",class:{"bg-danger":t.expiration||"SP"==t.ml_type}},[a("b-col",[e._v(e._s(e._f("formatDate_YYYY_MM_DD")(t.created_at)))]),e._v(" "),a("b-col",["voucher"==t.ml_tbl?a("div",[a("b-icon-gift-fill"),e._v(" "+e._s(e.config[t.refine_content[0]].name)+" : "+e._s(t.refine_content[1])+" 장 "),a("br"),e._v(" "),a("font-awesome-icon",{attrs:{icon:"user"}}),e._v(" "+e._s(t.refine_content[2])+" "),a("br"),e._v(" "),a("font-awesome-icon",{attrs:{icon:"mobile-alt"}}),e._v(" "+e._s(t.refine_content[3])+"\n                ")],1):a("div",[e._v("\n                    "+e._s(t.ml_content)+"\n                    "),"SP"==t.ml_type?a("b-badge",{staticClass:"ml-3",attrs:{variant:"warning"}},[e._v("상품권 구매")]):e._e(),e._v(" "),t.expiration?a("b-badge",{staticClass:"ml-3",attrs:{variant:"warning"}},[e._v("만료")]):e._e()],1)]),e._v(" "),a("b-col",["voucher"==t.ml_tbl?[e._v("상품권 신청")]:[e._v(e._s(e._f("comma")(t.ml_enable_m))+" "),a("b",[e._v("P")])]],2),e._v(" "),a("b-col",["voucher"==t.ml_tbl?["REQ"==t.ml_type?a("b-badge",{attrs:{variant:"secondary"}},[e._v("요청")]):"OK"==t.ml_type?a("b-badge",{attrs:{variant:"success"}},[e._v("승인")]):"NO"==t.ml_type?a("b-badge",{attrs:{variant:"warning"}},[e._v("반려")]):e._e()]:e._e()],2)],1)})),e._v(" "),a("pagination",{attrs:{data:e.mileage,align:"center"},on:{"pagination-change-page":e.index}})],2),e._v(" "),a("b-container",{staticClass:"request"},[a("b-row",[e._l(e.config,(function(t,r){return a("b-col",{key:r},[a("b-form-radio",{attrs:{value:r},model:{value:e.frm.type,callback:function(t){e.$set(e.frm,"type",t)},expression:"frm.type"}},[a("img",{attrs:{src:e.s3url+"mypage/mileage/gift"+t.point+".png"}}),e._v(" "),a("p",[e._v(e._s(t.name))])])],1)})),e._v(" "),a("Validation",{attrs:{error:this.$store.state.error.validations.type}})],2),e._v(" "),a("b-row",[a("b-col",{staticClass:"awesome_p"},[a("b-form-input",{attrs:{id:"ea",required:""},model:{value:e.frm.ea,callback:function(t){e.$set(e.frm,"ea",t)},expression:"frm.ea"}}),e._v(" "),a("label",{attrs:{for:"oex_num_in"}},[a("span",[e._v("신청 수량")])]),e._v(" "),a("Validation",{attrs:{error:this.$store.state.error.validations.ea}})],1),e._v(" "),a("b-col",{staticClass:"awesome_p"},[a("b-form-input",{attrs:{id:"name",required:""},model:{value:e.frm.name,callback:function(t){e.$set(e.frm,"name",t)},expression:"frm.name"}}),e._v(" "),a("label",{attrs:{for:"oex_num_in"}},[a("span",[e._v("수령인")])]),e._v(" "),a("Validation",{attrs:{error:this.$store.state.error.validations.name}})],1),e._v(" "),a("b-col",{staticClass:"awesome_p"},[a("b-form-input",{attrs:{id:"hp",required:""},model:{value:e.frm.hp,callback:function(t){e.$set(e.frm,"hp",t)},expression:"frm.hp"}}),e._v(" "),a("label",{attrs:{for:"oex_num_in"}},[a("span",[e._v("휴대폰 번호")])]),e._v(" "),a("Validation",{attrs:{error:this.$store.state.error.validations.hp}})],1),e._v(" "),a("b-col",[a("b-button",{attrs:{variant:"info",block:""},on:{click:e.store}},[e._v("신청하기")])],1)],1)],1)],1)}),[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pTitle"},[a("span",[a("i",[e._v("마")])]),e._v(" "),a("span",[a("i",[e._v("일")])]),e._v(" "),a("div",{staticClass:"break d-md-block d-none"}),e._v(" "),a("span",[a("i",[e._v("리")])]),e._v(" "),a("span",[a("i",[e._v("지")])]),e._v(" "),a("div",{staticClass:"break"}),e._v(" "),a("span",[a("i")])])}],!1,null,"e8477458",null).exports}}]);