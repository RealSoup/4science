"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1522],{66213:(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(23645),a=n.n(r),i=n(43877),o=a()((function(t){return t[1]}));o.i(i.Z),o.push([t.id,".gd_list .col .btn[data-v-b05e2e5e]{max-width:120px}.gd_list .col .btn img[data-v-b05e2e5e]{height:120px;-o-object-fit:cover;object-fit:cover;width:100%}",""]);const s=o},43877:(t,e,n)=>{n.d(e,{Z:()=>i});var r=n(23645),a=n.n(r)()((function(t){return t[1]}));a.push([t.id,".print_area .gd_box .gd_list:not(:last-of-type) { border-bottom:1px solid #eee; }\r\n.print_area .gd_box .gd_list .col { padding-top:10px; padding-bottom:10px; }\r\n.print_area .gd_box .gd_list .col .btn { margin-right:10px; }\r\n.print_area .gd_box .gd_list .col .divider { font-size:1.6rem; font-weight:bold; color:#b81717; padding:0 5px; position:relative; top:3px; line-height:14px; }\r\n.print_area .gd_box .gd_list i { text-align:right; }\r\n.print_area .gd_box .gd_list>.col:nth-child(2),\r\n.print_area .gd_box .gd_list .opc .row div { background-color:#7fffd454; } \r\n.print_area .gd_box .gd_list .opc { border-top:1px solid #eee; }\r\n\r\n.print_area .gd_box .gd_list .col:nth-child(2),\r\n.print_area .gd_box .gd_list .col:nth-child(3) { flex:0 0 25%; max-width:25%; }\r\n\r\n/*.print_area .card .eq_info .col { box-shadow:3px 2px 2px 0px; border:1px solid #EDEDED; }*/\r\n.print_area .card .eq_info .col div { margin:1rem; }\r\n.print_area .card .eq_info .col div span { margin-right:1rem; }\r\n.print_area .card .eq_info .col div span svg { margin-right:0.5rem; }\r\n.print_area .card .eq_info .col div .content { white-space:pre; }\r\n\r\n\r\n\r\n.print_area .gd_box .gd_list .em_name { font-size:1rem; }\r\n.print_area .gd_box .gd_list .em_name i { font-size:0.7rem;  display:inline-block; background-color:#71B981; color:#fff; border-radius:1rem; padding:0.2rem 0.5rem; line-height:1; }\r\n.print_area .gd_box .gd_list .em_name .btn { margin-left:1rem; padding:.1rem .36rem; }\r\n.print_area .gd_box .gd_list .gd_info div { color:#999; font-size:0.8rem; }\r\n.print_area .gd_box .op_list .op_info div { color:#999; font-size:0.8rem; }\r\n.print_area .gd_box .op_list .op_info div span { display:inline-block; min-width:10rem; text-align:left; }\r\n.print_area .gd_box .op_list .op_info div i { display:inline-block; min-width:5rem; }\r\n.print_area .gd_box .op_list .op_info div i b { display:inline-block; min-width:1.4rem; }\r\n.print_area .gd_box .gd_list > div:nth-child(3) { text-align:right; }",""]);const i=a},71522:(t,e,n)=>{n.r(e),n.d(e,{default:()=>l});var r=n(87757),a=n.n(r),i=n(44670);function o(t,e,n,r,a,i,o){try{var s=t[i](o),_=s.value}catch(t){return void n(t)}s.done?e(_):Promise.resolve(_).then(r,a)}function s(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function s(t){o(i,r,a,s,_,"next",t)}function _(t){o(i,r,a,s,_,"throw",t)}s(void 0)}))}}const _={name:"admShopEstimateShowReq",components:{MadeType01:function(){return n.e(4420).then(n.bind(n,44420))},MadeType08:function(){return n.e(4064).then(n.bind(n,54064))},MadeType20:function(){return n.e(5186).then(n.bind(n,65186))},MadeType24:function(){return n.e(6320).then(n.bind(n,6320))},MadeTypeCommon:function(){return n.e(8226).then(n.bind(n,78226))}},data:function(){return{frm:{file_info:[]}}},computed:{choiceSubType:function(){switch(this.frm.eq_1depth){case"1":return"MadeType01";case"8":return"MadeType08";case"20":return"MadeType20";case"24":return"MadeType24";default:return"MadeTypeCommon"}}},methods:{show:function(){var t=this;return s(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.Z.get("/api/admin/shop/estimate/".concat(t.$route.params.eq_id));case 3:(n=e.sent)&&200===n.status&&(t.frm=n.data),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),Notify.consolePrint(e.t0),Notify.toast("warning",e.t0.response.data.message);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))()},update:function(){var t=this;return s(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.frm=Object.assign({},t.frm,{_method:"PATCH",type:"eq_step"}),e.next=4,i.Z.post("/api/admin/shop/estimate/".concat(t.$route.params.eq_id),t.frm);case 4:(n=e.sent)&&200===n.status?Notify.toast("success","수정 완료"):Notify.toast("warning","수정 실패"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),Notify.consolePrint(e.t0),Notify.toast("warning",e.t0.response.data.message);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()},destroy:function(){var t=this;return s(a().mark((function e(){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Notify.confirm("삭제","danger");case 2:if(!e.sent){e.next=19;break}return e.prev=4,(n=new FormData).append("_method","DELETE"),n.append("type","req"),e.next=10,i.Z.post("/api/admin/shop/estimate/".concat(t.$route.params.eq_id),n);case 10:(r=e.sent)&&200===r.status&&(Notify.toast("success","견적서 삭제"),t.$router.push({name:"adm_estimate_index"})),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(4),Notify.consolePrint(e.t0),Notify.toast("danger","삭제 실패"),Notify.toast("danger",e.t0.response.data.message);case 19:case"end":return e.stop()}}),e,null,[[4,14]])})))()},print:function(){var t=this;return s(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$htmlToPaper("adm_estimate_show",{styles:["https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css","/css/fontawesome_svg.css","/css/adm_shop_estimate_req.css"]});case 2:case"end":return e.stop()}}),e)})))()}},mounted:function(){this.show()}};var c=n(93379),d=n.n(c),p=n(66213),m={insert:"head",singleton:!1};d()(p.Z,m);p.Z.locals;const l=(0,n(51900).Z)(_,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"p_wrap",attrs:{id:"adm_estimate_show"}},[n("div",{staticClass:"print_area"},[n("h3",{staticClass:"p_tit"},[t._v("견적 요청")]),t._v(" "),n("b-card",{staticClass:"ctrl",attrs:{"no-body":""}},[n("b-container",[n("b-row",[n("b-col",[n("b-button",{attrs:{variant:"danger",size:"sm"},on:{click:t.destroy}},[n("b-icon",{attrs:{icon:"trash-fill"}}),t._v(" 삭제")],1)],1),t._v(" "),n("b-col",{staticClass:"text-right"},[n("b-input-group",{attrs:{size:"sm"}},[n("b-input-group-prepend",{staticClass:"bg-light btn_group"},[n("b-button",{attrs:{to:{name:"adm_estimate_index"},variant:"light"}},[n("b-icon",{attrs:{icon:"list-ul"}}),t._v(" 목록")],1),t._v(" "),n("b-button",{on:{click:t.print}},[t._v(" 인쇄")])],1),t._v(" "),n("b-form-select",{model:{value:t.frm.eq_step,callback:function(e){t.$set(t.frm,"eq_step",e)},expression:"frm.eq_step"}},[n("b-form-select-option",{attrs:{value:"DONOT"}},[t._v("미처리")]),t._v(" "),n("b-form-select-option",{attrs:{value:"DOING"}},[t._v("처리중")]),t._v(" "),n("b-form-select-option",{attrs:{value:"DONE"}},[t._v("완료")]),t._v(" "),n("b-form-select-option",{attrs:{value:"CANCEL"}},[t._v("취소")])],1),t._v(" "),n("b-input-group-append",[n("b-button",{attrs:{variant:"warning"},on:{click:t.update}},[n("b-icon",{attrs:{icon:"tools"}}),t._v(" 진행현황 수정")],1),t._v(" "),t.frm.estimate_reply&&t.frm.estimate_reply.length>0?n("b-button",{attrs:{variant:"success",to:{name:"adm_estimate_show_reply",params:{er_id:t.frm.estimate_reply[t.frm.estimate_reply.length-1].er_id}}}},[n("b-icon-newspaper"),t._v(" 견적서 확인\r\n                                ")],1):n("b-button",{attrs:{variant:"light",to:{name:"adm_estimate_create",query:{eq_id:t.frm.eq_id}}}},[n("b-icon-pencil-square"),t._v(" 견적서 작성\r\n                                ")],1)],1)],1)],1)],1)],1)],1),t._v(" "),n("b-card",[n("b-container",[n("b-row",{staticClass:"eq_info"},[n("b-col",[n("div",[n("span",[n("font-awesome-icon",{attrs:{icon:"tags"}}),t._v(t._s(t.frm.eq_id))],1),t._v(" "),n("span",[n("font-awesome-icon",{attrs:{icon:"clock"}}),t._v(t._s(t._f("formatDate")(t.frm.created_at)))],1),t._v(" "),n("span",[n("b-icon-bar-chart-steps"),t._v(" "),"DONOT"===t.frm.eq_step?[t._v("미처리")]:"DOING"===t.frm.eq_step?[t._v("처리중")]:"DONE"===t.frm.eq_step?[t._v("완료")]:"CANCEL"===t.frm.eq_step?[t._v("취소")]:t._e()],2)]),t._v(" "),n("div",[n("span",[n("font-awesome-icon",{attrs:{icon:"user"}}),t._v(t._s(t.frm.eq_name))],1),t._v(" "),n("span",[n("font-awesome-icon",{attrs:{icon:"users"}}),t._v(t._s(t.frm.eq_department))],1)]),t._v(" "),n("div",[n("span",[n("font-awesome-icon",{attrs:{icon:"phone"}}),t._v(t._s(t.frm.eq_tel))],1),t._v(" "),n("span",[n("font-awesome-icon",{attrs:{icon:"mobile-alt"}}),t._v(t._s(t.frm.eq_hp))],1),t._v(" "),n("span",[n("font-awesome-icon",{attrs:{icon:"fax"}}),t._v(t._s(t.frm.eq_fax))],1),t._v(" "),n("span",[n("font-awesome-icon",{attrs:{icon:"at"}}),t._v(t._s(t.frm.eq_email))],1)]),t._v(" "),Number(t.frm.eq_1depth)?n("div",[n("h5",[t._v("주문제작 정보: "+t._s(t.frm.made_cate[t.frm.eq_1depth]))]),t._v(" "),n(t.choiceSubType,{ref:"custom_sub",tag:"component",model:{value:t.frm.estimate_custom,callback:function(e){t.$set(t.frm,"estimate_custom",e)},expression:"frm.estimate_custom"}})],1):t._e(),t._v(" "),t.frm.eq_content?n("div",[n("span",{staticClass:"content"},[n("font-awesome-icon",{attrs:{icon:"comment-dots"}}),t._v(t._s(t.frm.eq_content))],1)]):t._e(),t._v(" "),t.frm.file_info.length?n("div",[n("span",[n("b-icon",{attrs:{icon:"file-earmark-arrow-down-fill"}}),t._v(" "),t._l(t.frm.file_info,(function(e,r){return[n("b-button",{key:r,staticClass:"mr-2",attrs:{size:"sm",variant:"outline-info"},on:{click:function(n){return t.fileDown(e.down_path,e.fi_original)}}},[t._v("\r\n                                        "+t._s(e.fi_original)+"\r\n                                    ")])]}))],2)]):t._e()])],1)],1)],1),t._v(" "),t.frm.estimate_model&&t.frm.estimate_model.length?n("b-card",{staticClass:"gd_box"},[n("div",{staticClass:"tit"},[t._v("견적요청 상품")]),t._v(" "),n("b-container",t._l(t.frm.estimate_model,(function(e){return n("b-row",{key:e.em_id,staticClass:"gd_list"},[n("b-col",[n("b-button",{attrs:{variant:"outline-primary",size:"sm"},on:{click:function(n){return t.openWinPop("/admin/shop/goods/"+e.em_gd_id+"/edit",1700,900)}}},[n("img",{attrs:{src:e.img_thumb_src}})]),t._v(" "),n("b",{staticClass:"gd_name"},[t._v(t._s(e.em_name))]),t._v(" "),n("b",{staticClass:"divider"},[t._v("/")]),t._v("\r\n                        "+t._s(e.em_code)+"\r\n                        "),n("b",{staticClass:"divider"},[t._v("/")]),t._v("\r\n                        "+t._s(e.em_catno)+"\r\n                        "),n("b",{staticClass:"divider"},[t._v("/")]),t._v("\r\n                        "+t._s(e.em_maker)+"\r\n                        "),n("b",{staticClass:"divider"},[t._v("/")]),t._v("\r\n                        "+t._s(e.em_unit)+"\r\n                    ")],1),t._v(" "),n("b-col",[t._v(t._s(e.em_spec))]),t._v(" "),n("b-col",{attrs:{tag:"i"}},[t._v("수량 : "),n("b",[t._v(t._s(t._f("comma")(e.em_ea)))]),t._v(" 개")]),t._v(" "),e.estimate_option.length?n("b-col",{staticClass:"opc",attrs:{cols:"12"}},t._l(e.estimate_option,(function(e){return n("b-row",{key:e.eo_id},[n("b-col",{attrs:{offset:"6"}},[t._v(t._s(e.eo_tit)+": "+t._s(e.eo_name))]),t._v(" "),n("b-col",{attrs:{tag:"i"}},[t._v("수량 : "),n("b",[t._v(t._s(t._f("comma")(e.eo_ea)))]),t._v(" 개")])],1)})),1):t._e()],1)})),1)],1):t._e()],1)])}),[],!1,null,"b05e2e5e",null).exports}}]);