"use strict";(self.webpackChunk_4science=self.webpackChunk_4science||[]).push([[8992],{11887:(t,e,o)=>{o.d(e,{Z:()=>r});var a=o(23645),n=o.n(a)()((function(t){return t[1]}));n.push([t.id,".p_wrap[data-v-7c3fd5fc]{margin-bottom:2rem}.top .col[data-v-7c3fd5fc]{align-items:center;display:flex}.top .col.addModel[data-v-7c3fd5fc]{justify-content:flex-end}.top .col.addModel>div[data-v-7c3fd5fc]{max-width:10rem;width:100%}.row[data-v-7c3fd5fc]:not(:last-of-type){border-bottom:1px solid #333}.body[data-v-7c3fd5fc]:hover{background:#d8f2fd94}.row>div[data-v-7c3fd5fc]:nth-of-type(3){flex:0 0 15%;max-width:15%}.row>div[data-v-7c3fd5fc]{font-size:.9rem;padding-bottom:15px;padding-top:15px}.head>div[data-v-7c3fd5fc]{background:#666;color:#fff;font-weight:700}.body>div[data-v-7c3fd5fc]:nth-of-type(2){background-color:#7fffd454}.row>div>span[data-v-7c3fd5fc]:nth-of-type(2){float:right}.row .custom-control[data-v-7c3fd5fc]{display:inline}.row .custom-control[data-v-7c3fd5fc] label{font-size:.9rem}.row .custom-control[data-v-7c3fd5fc] label:after,.row .custom-control[data-v-7c3fd5fc] label:before{height:1.5rem;left:-1.8rem;top:-.15rem;width:1.5rem}.top .custom-control[data-v-7c3fd5fc]{margin-right:1rem}.top .custom-control[data-v-7c3fd5fc] label:after,.top .custom-control[data-v-7c3fd5fc] label:before{top:0}.row .col span .odm_ea[data-v-7c3fd5fc]{display:inline-block;min-width:40px;text-align:center;width:30%}.row .col span.req_order_box[data-v-7c3fd5fc]{display:inline-block;height:1.9rem;min-width:140px;position:relative;width:70%}.row .col span.req_order_box .req_order[data-v-7c3fd5fc]{height:1.9rem;padding:.1rem .8rem}.row .col span.req_order_box .req_order[data-v-7c3fd5fc]:focus{background:#fff;height:5rem;left:0;position:absolute;top:0;width:20rem;z-index:1}",""]);const r=n},88992:(t,e,o)=>{o.r(e),o.d(e,{default:()=>m});var a=o(87757),n=o.n(a),r=o(44670);function c(t,e,o,a,n,r,c){try{var d=t[r](c),s=d.value}catch(t){return void o(t)}d.done?e(s):Promise.resolve(s).then(a,n)}function d(t){return function(){var e=this,o=arguments;return new Promise((function(a,n){var r=t.apply(e,o);function d(t){c(r,a,n,d,s,"next",t)}function s(t){c(r,a,n,d,s,"throw",t)}d(void 0)}))}}const s={name:"admShopB2bMerckOrder",components:{ModelSchInput:function(){return o.e(65).then(o.bind(o,30065))}},data:function(){return{list:[],indeterminate:!1,all_chk:!1,req_dlvy:""}},methods:{index:function(){return d(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},chkChange:function(){var t=this.list.filter((function(t){return 1==t.b2b_chk})).length;0===t?(this.indeterminate=!1,this.all_chk=!1):t===this.list.length?(this.indeterminate=!1,this.all_chk=!0):(this.indeterminate=!0,this.all_chk=!1)},toggle_all_chk:function(t){this.list.forEach((function(e){e.b2b_chk=t})),this.indeterminate=!1},order:function(){var t=this;return d(n().mark((function e(){var o,a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,(o=t.list.filter((function(t){return 1==t.b2b_chk}))).length){e.next=5;break}return Notify.modal("선택하세요","warning"),e.abrupt("return",!1);case 5:return e.next=7,r.Z.post("/api/admin/shop/b2b_merck/orderExe",{list:o,req_dlvy:t.req_dlvy});case 7:(a=e.sent)&&200===a.status&&"success"==a.data.msg&&t.$router.push({name:"adm_b2b_merck_order_result"}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),Notify.consolePrint(e.t0),Notify.toast("warning",e.t0.response.data.message);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))()},stockCheck:function(t,e){var o=this;return d(n().mark((function a(){var c;return n().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,r.Z.post("/api/admin/shop/b2b_merck/stockCheck",{code:t,ea:e});case 3:(c=a.sent)&&200===c.status&&(o.list=c.data),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(0),Notify.consolePrint(a.t0),Notify.toast("warning",a.t0.response.data.message);case 11:case"end":return a.stop()}}),a,null,[[0,7]])})))()},addModel:function(t){this.list.unshift({b2b_chk:!0,odm_id:0,odm_gm_id:t.gm_id,odm_gm_name:t.gm_name,odm_gm_code:t.gm_code,odm_gm_unit:t.gm_unit,odm_price:t.gm_price,odm_gm_spec:t.gm_spec,odm_ea:1,odm_mk_name:t.mk_name,req_order:null})}},mounted:function(){this.index()}};var i=o(93379),l=o.n(i),f=o(11887),_={insert:"head",singleton:!1};l()(f.Z,_);f.Z.locals;const m=(0,o(51900).Z)(s,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("b-container",{staticClass:"p_wrap"},[o("h3",[t._v("Merck Order List")]),t._v(" "),o("b-row",{staticClass:"top"},[o("b-col",{attrs:{col:"",sm:"12",md:"6"}},[o("b-form-checkbox",{attrs:{indeterminate:t.indeterminate},on:{change:t.toggle_all_chk},model:{value:t.all_chk,callback:function(e){t.all_chk=e},expression:"all_chk"}},[t._v("All")]),t._v(" "),o("b-button",{attrs:{variant:"primary",size:"sm"},on:{click:t.order}},[t._v("선택 발주")])],1),t._v(" "),o("b-col",{staticClass:"addModel",attrs:{col:"",sm:"12",md:"6"}},[o("ModelSchInput",{on:{addModel:t.addModel}})],1)],1),t._v(" "),o("b-row",{staticClass:"head"},[o("b-col",[o("span",[t._v("주문번호")]),o("span",[t._v("제품명")])]),t._v(" "),o("b-col",[o("span",[t._v("모델명")]),o("span",[t._v("판매단위")])]),t._v(" "),o("b-col",[o("span",[t._v("수량")]),o("span",[t._v("가격")])]),t._v(" "),o("b-col",[o("span",[t._v("요청사항")]),o("span",[t._v("Ctrl")])])],1),t._v(" "),t._l(t.list,(function(e){return o("b-row",{key:e.odm_id,staticClass:"body"},[o("b-col",[o("span",[o("b-form-checkbox",{attrs:{name:"b2b_chk"},on:{change:t.chkChange},model:{value:e.b2b_chk,callback:function(o){t.$set(e,"b2b_chk",o)},expression:"row.b2b_chk"}},[t._v("\r\n                    "+t._s(e.odm_od_id)+"\r\n                ")])],1),t._v(" "),o("span",[t._v(t._s(e.odm_gm_name))])]),t._v(" "),o("b-col",[o("span",[t._v(t._s(e.odm_gm_code))]),t._v(" "),o("span",[t._v(t._s(e.odm_gm_unit))])]),t._v(" "),o("b-col",[o("span",[o("b-form-input",{staticClass:"odm_ea",attrs:{size:"sm"},model:{value:e.odm_ea,callback:function(o){t.$set(e,"odm_ea",o)},expression:"row.odm_ea"}})],1),t._v(" "),o("span",[t._v(t._s(t._f("comma")(e.odm_price))+" 원")])]),t._v(" "),o("b-col",[o("span",{staticClass:"req_order_box"},[o("b-form-textarea",{staticClass:"req_order",attrs:{placeholder:"주문시 요청사항 입력"},model:{value:e.req_order,callback:function(o){t.$set(e,"req_order",o)},expression:"row.req_order"}})],1),t._v(" "),o("span",[o("b-button",{attrs:{size:"sm"},on:{click:function(o){return t.stockCheck(e.odm_gm_code,e.odm_ea)}}},[t._v("재고 체크")])],1)])],1)})),t._v(" "),o("b-row",[o("b-col",[o("b-form-textarea",{attrs:{placeholder:"배송시 요청사항 입력"},model:{value:t.req_dlvy,callback:function(e){t.req_dlvy=e},expression:"req_dlvy"}})],1)],1)],2)}),[],!1,null,"7c3fd5fc",null).exports}}]);