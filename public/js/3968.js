"use strict";(self.webpackChunk_4science=self.webpackChunk_4science||[]).push([[3968],{17506:(e,t,n)=>{n.d(t,{Z:()=>i});var a=n(23645),r=n.n(a)()((function(e){return e[1]}));r.push([e.id,".card[data-v-0e51e7e5]{padding-bottom:2rem}.card[data-v-0e51e7e5] ul{-webkit-padding-start:40px;padding-inline-start:40px}",""]);const i=r},73968:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var a=n(87757),r=n.n(a),i=n(44670);function s(e,t,n,a,r,i,s){try{var o=e[i](s),c=o.value}catch(e){return void n(e)}o.done?t(c):Promise.resolve(c).then(a,r)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function o(e){s(i,a,r,o,c,"next",e)}function c(e){s(i,a,r,o,c,"throw",e)}o(void 0)}))}}const c={name:"category",components:{TreeView:function(){return n.e(1084).then(n.bind(n,71084))},LoadingModal:function(){return n.e(7632).then(n.bind(n,87632))}},data:function(){return{isLoadingModalViewed:!1,ca:{ca_id:0,ca_papa:0,ca_name:"카테고리",ca_seq:0,hasChild:!0,sub_show:!0,subCate:[]}}},methods:{index:function(){var e=arguments,t=this;return o(r().mark((function n(){var a,s,o;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=e.length>0&&void 0!==e[0]?e[0]:0,s=a?a.ca_id:0,n.next=4,i.Z.get("/api/admin/shop/category/".concat(s),{params:{type:"hasChild"}});case 4:(o=n.sent)&&200===o.status&&(0==s?t.ca.subCate=o.data:t.$set(a,"subCate",o.data));case 6:case"end":return n.stop()}}),n)})))()},rewrite:function(){var e=this;return o(r().mark((function t(){var n;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Notify.confirm("카테고리 캐시파일을 업데이트","danger");case 2:if(!t.sent){t.next=9;break}return e.isLoadingModalViewed=!0,t.next=7,i.Z.get("/api/admin/shop/category/rewrite");case 7:(n=t.sent)&&200===n.status&&(e.isLoadingModalViewed=!1,Notify.modal("업데이트 완료.","success"));case 9:case"end":return t.stop()}}),t)})))()},getSub:function(e){this.index(e)}},mounted:function(){this.index()}};var d=n(93379),u=n.n(d),l=n(17506),p={insert:"head",singleton:!1};u()(l.Z,p);l.Z.locals;const f=(0,n(51900).Z)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-container",{staticClass:"p_wrap"},[n("b-row",{staticClass:"justify-content-center"},[n("b-col",{attrs:{sm:"12",md:"10",lg:"6"}},[n("transition",{attrs:{name:"fade"}},[e.isLoadingModalViewed?n("LoadingModal",{attrs:{position:""},on:{"close-modal":function(t){e.isLoadingModalViewed=!1}}},[e._v("\r\n                    카테고리 갱신 중 ......\r\n                ")]):e._e()],1),e._v(" "),n("h3",{staticClass:"p_tit"},[e._v("\r\n                카테고리\r\n                "),n("b-button",{on:{click:e.rewrite}},[n("b-icon-recycle")],1)],1),e._v(" "),n("b-card",[n("tree-view",{attrs:{cate:e.ca.subCate,parent:e.ca,depth:0,ca_papa:0,gene_idx:0},on:{"get-sub":e.getSub}})],1)],1)],1)],1)}),[],!1,null,"0e51e7e5",null).exports}}]);