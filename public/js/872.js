"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[872],{4911:(t,o,n)=>{n.d(o,{Z:()=>a});var e=n(3645),r=n.n(e)()((function(t){return t[1]}));r.push([t.id,"#bo_show h3{margin:2rem 0 1rem}#bo_show .bd_info{line-height:1.4rem}#bo_show .bd_info li{margin-right:1.5rem}#bo_show .bd_info .add_file{margin-left:24px}#bo_show .bd_info .add_file i{margin:0 3px 0 -24px}#bo_show .bd_info .add_file .piece{background-color:#888;border:1px dashed #ccc;border-radius:.3rem;color:#fff;cursor:pointer;letter-spacing:-1px;margin-right:1rem;padding:.1rem .3rem}#bo_show .con{line-height:1.5rem;margin-bottom:3rem}#bo_show .con img{max-width:100%}",""]);const a=r},6980:(t,o,n)=>{n.d(o,{Z:()=>a});var e=n(3645),r=n.n(e)()((function(t){return t[1]}));r.push([t.id,"#bo_show #comment h5[data-v-1a57aa82]{margin:2rem 0}#bo_show #comment>ul>li[data-v-1a57aa82]{border-bottom:1px solid #ccc;margin-bottom:1rem;padding-bottom:1rem}#bo_show #comment>ul>li .bo_content[data-v-1a57aa82]{margin:1rem auto}#bo_show #comment>ul>li .bo_content p img[data-v-1a57aa82]{max-width:100%}",""]);const a=r},872:(t,o,n)=>{n.r(o),n.d(o,{default:()=>g});var e=n(7757),r=n.n(e),a=n(4670);function i(t,o,n,e,r,a,i){try{var s=t[a](i),c=s.value}catch(t){return void n(t)}s.done?o(c):Promise.resolve(c).then(e,r)}function s(t){return function(){var o=this,n=arguments;return new Promise((function(e,r){var a=t.apply(o,n);function s(t){i(a,e,r,s,c,"next",t)}function c(t){i(a,e,r,s,c,"throw",t)}s(void 0)}))}}const c={name:"Comment",components:{CommentFormGroup:function(){return n.e(9648).then(n.bind(n,9648))}},props:["bo_cd","bo_id"],data:function(){return{sltIndex:-1,bo_co_list:[],comment_mode:"create"}},methods:{index:function(t){var o=this;return s(r().mark((function t(){var n;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.Z.get("/api/board/".concat(o.bo_cd,"/indexComment/").concat(o.bo_id));case 3:200===(n=t.sent).status&&(o.bo_co_list=n.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0.response);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},coWrite:function(t){this.sltIndex=t,this.comment_mode="reCreate",this.$nextTick((function(){this.$refs.commentFormGroup[0].textAreaFocus()}))},coUadate:function(t){this.sltIndex=t,this.comment_mode="reEdit",this.$nextTick((function(){this.$refs.commentFormGroup[0].textAreaFocus()}))},isDestroy:function(t){var o=this;this.$bvModal.msgBoxConfirm("삭제 하시겠습니까?",Object.assign({title:"삭제 확인 안내"},this.ConfirmModal)).then((function(n){n&&o.coDestroy(t)})).catch((function(t){}))},coDestroy:function(t){var o=this;return s(r().mark((function n(){var e,i;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,(e=new FormData).append("_method","DELETE"),n.next=5,a.Z.post("/api/board/".concat(o.bo_cd,"/destroy/").concat(t),e);case 5:(i=n.sent)&&200===i.status&&(Notify.toast("success","댓글 삭제"),o.index()),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),500===n.t0.response.status?o.makeAlert(n.t0.response.data):(console.error("Failure!"),console.error(n.t0.response.status));case 12:case"end":return n.stop()}}),n,null,[[0,9]])})))()},hideCommentForm:function(){this.sltIndex=-1,this.comment_mode="create"},goodBad:function(t,o,n){var e=this;return s(r().mark((function i(){var s,c,d,_;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,s="",c="",r.next=5,a.Z.get("/api/board/".concat(e.bo_cd,"/goodBad/").concat(t,"/").concat(o));case 5:d=r.sent,_=d.data,!1!==d&&("success"===_?(s="GOOD"==o?"추천 적용":"비추천 적용",Notify.toast("success",s),e.goodBadArrUpdate(o,n,"up")):("already"==_?c="취소시 지급된 포인트도 함께 취소됩니다. ":"reverse"==_&&(c="GOOD"==o?"비추천을 추천으로 ":"추천을 비추천으로 "),e.$bvModal.msgBoxConfirm(c+"수정하겠습니까?",Object.assign({title:"추천/비추천 안내"},e.ConfirmModal)).then((function(r){r&&e.reGoodBad(t,_,o,n)})).catch((function(t){})))),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(0),Notify.consolePrint(r.t0);case 13:case"end":return r.stop()}}),i,null,[[0,10]])})))()},reGoodBad:function(t,o,n,e){var i=this;return s(r().mark((function s(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a.Z.get("/api/board/".concat(i.bo_cd,"/goodBad/").concat(t,"/").concat(o));case 2:200===r.sent.status&&("already"==o?i.goodBadArrUpdate(n,e,"down"):"reverse"==o&&("GOOD"==n?(i.goodBadArrUpdate(n,e,"up"),i.goodBadArrUpdate("BAD",e,"down")):(i.goodBadArrUpdate(n,e,"up"),i.goodBadArrUpdate("GOOD",e,"down"))));case 4:case"end":return r.stop()}}),s)})))()},goodBadArrUpdate:function(t,o,n){"GOOD"==t?"up"==n?this.bo_co_list[o].bo_good++:this.bo_co_list[o].bo_good--:"up"==n?this.bo_co_list[o].bo_bad++:this.bo_co_list[o].bo_bad--},calcPl:function(t){return 30*(t.length-1)}},mounted:function(){this.index()}};var d=n(3379),_=n.n(d),l=n(6980),u={insert:"head",singleton:!1};_()(l.Z,u);l.Z.locals;var b=n(1900);function m(t,o,n,e,r,a,i){try{var s=t[a](i),c=s.value}catch(t){return void n(t)}s.done?o(c):Promise.resolve(c).then(e,r)}function f(t){return function(){var o=this,n=arguments;return new Promise((function(e,r){var a=t.apply(o,n);function i(t){m(a,e,r,i,s,"next",t)}function s(t){m(a,e,r,i,s,"throw",t)}i(void 0)}))}}const h={name:"BoardShow",components:{Comment:(0,b.Z)(c,(function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("article",{attrs:{id:"comment"}},[n("h5",[t._v("댓글 "),n("small",[t._v(t._s(t.bo_co_list.length)+"개")])]),t._v(" "),t.bo_co_list&&t.bo_co_list.length?n("ul",{staticClass:"container"},[t._l(t.bo_co_list,(function(o,e){return[n("li",{key:o.bo_id,staticClass:"row pillar",style:{paddingLeft:t.calcPl(o.bo_co_seq_cd)+"px"},attrs:{id:"comment_"+o.bo_id}},[n("div",{staticClass:"col-md-6 col-12"},[n("span",[n("b-icon",{attrs:{icon:"person-fill"}}),t._v(" "+t._s(o.bo_writer))],1),t._v(" "),n("span",[n("b-icon",{attrs:{icon:"calendar-date-fill"}}),t._v(" "+t._s(o.created_at))],1)]),t._v(" "),n("div",{staticClass:"col-md-6 col-12 text-right"},[t.$parent.isMine(o.created_id)?t._e():n("b-button",{attrs:{variant:"success",size:"sm"},on:{click:function(n){return t.goodBad(o.bo_id,"GOOD",e)}}},[n("b-icon",{attrs:{icon:"hand-thumbs-up"}}),t._v(" "),n("span",[t._v(t._s(o.bo_good))])],1),t._v(" "),t.$parent.isMine(o.created_id)?t._e():n("b-button",{attrs:{variant:"danger",size:"sm"},on:{click:function(n){return t.goodBad(o.bo_id,"BAD",e)}}},[n("b-icon",{attrs:{icon:"hand-thumbs-down"}}),t._v(" "),n("span",[t._v(t._s(o.bo_bad))])],1),t._v(" "),n("b-button",{attrs:{variant:"secondary",size:"sm"},on:{click:function(o){return t.coWrite(e)}}},[n("b-icon",{attrs:{icon:"chat-left-dots-fill"}})],1),t._v(" "),t.$parent.isMine(o.created_id)?[n("b-button",{attrs:{variant:"warning",size:"sm"},on:{click:function(o){return t.coUadate(e)}}},[n("b-icon",{attrs:{icon:"scissors"}})],1),t._v(" "),n("b-button",{attrs:{variant:"danger",size:"sm"},on:{click:function(n){return t.isDestroy(o.bo_id)}}},[n("b-icon",{attrs:{icon:"trash-fill"}})],1)]:t._e()],2),t._v(" "),n("div",{staticClass:"col-12 bo_content"},[o.file_info_bo.length?n("p",[n("img",{staticClass:"me-auto ms-auto d-block",attrs:{src:o.file_info_bo[0].src}})]):t._e(),t._v(" "),n("div",{domProps:{innerHTML:t._s(o.bo_content)}})]),t._v(" "),n("div",{staticClass:"col-12 box_co"},[e==t.sltIndex?n("CommentFormGroup",{ref:"commentFormGroup",refInFor:!0,attrs:{sltIndex:t.sltIndex,bo_cd:t.bo_cd,bo_id:o.bo_id,prevBo_content:o.bo_content,comment_mode:t.comment_mode,fi_id:o.file_info_bo.length?o.file_info_bo[0].fi_id:""},on:{callIndex:t.index,callHideCommentForm:function(o){return t.hideCommentForm()}}}):t._e()],1)])]}))],2):t._e(),t._v(" "),-1==t.sltIndex?n("CommentFormGroup",{attrs:{sltIndex:t.sltIndex,bo_cd:t.bo_cd,bo_id:t.bo_id,comment_mode:t.comment_mode},on:{callIndex:t.index}}):t._e()],1)}),[],!1,null,"1a57aa82",null).exports},data:function(){return{board:{config:{}},bo_cd:this.$route.params.bo_cd,bo_id:this.$route.params.bo_id}},computed:{getLink:function(){return"my_bo_show"==this.$route.name?"my_":""}},methods:{show:function(){var t=this;return f(r().mark((function o(){var n;return r().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,a.Z.get("/api/board/".concat(t.bo_cd,"/show/").concat(t.bo_id));case 3:(n=o.sent)&&200===n.status&&(t.board=n.data),o.next=11;break;case 7:o.prev=7,o.t0=o.catch(0),Notify.consolePrint(o.t0),Notify.toast("warning",o.t0.response.data.message);case 11:case"end":return o.stop()}}),o,null,[[0,7]])})))()},destroy:function(){var t=this;return f(r().mark((function o(){var n,e;return r().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,Notify.confirm("삭제","danger");case 3:if(!o.sent){o.next=11;break}return(n=new FormData).append("_method","DELETE"),o.next=9,a.Z.post("/api/board/".concat(t.bo_cd,"/destroy/").concat(t.bo_id),n);case 9:(e=o.sent)&&200===e.status&&t.$router.push({name:"bo_index",params:{bo_cd:t.bo_cd}});case 11:o.next=17;break;case 13:o.prev=13,o.t0=o.catch(0),Notify.consolePrint(o.t0),Notify.toast("warning",o.t0.response.data.message);case 17:case"end":return o.stop()}}),o,null,[[0,13]])})))()}},beforeRouteUpdate:function(t,o,n){this.bo_id=t.params.bo_id,this.show(),n()},mounted:function(){this.show()}};var p=n(4911),v={insert:"head",singleton:!1};_()(p.Z,v);p.Z.locals;const g=(0,b.Z)(h,(function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("div",{attrs:{id:"bo_show"}},[n("h3",[t._v(t._s(t.board.bo_subject))]),t._v(" "),n("ul",{staticClass:"list-inline bd_info"},[n("li",{staticClass:"list-inline-item"},[n("b-icon",{attrs:{icon:"person-fill"}}),t._v(" "+t._s(t.board.bo_writer))],1),t._v(" "),n("li",{staticClass:"list-inline-item"},[n("b-icon",{attrs:{icon:"calendar-date-fill"}}),t._v(" "+t._s(t.board.created_at))],1),t._v(" "),n("li",{staticClass:"list-inline-item"},[n("b-icon",{attrs:{icon:"eye-fill"}}),t._v(" "+t._s(t.board.bo_click))],1),t._v(" "),t.board.add_file&&t.board.add_file.length?n("li",{staticClass:"list-inline-item add_file"},[n("b-icon",{attrs:{icon:"file-earmark-arrow-down-fill"}}),t._v(" "),t._l(t.board.add_file,(function(o){return[n("span",{staticClass:"piece",on:{click:function(n){return t.fileDown(o.path,o.fi_original)}}},[t._v(t._s(o.fi_original))])]}))],2):t._e()]),t._v(" "),n("hr"),t._v(" "),n("b-link",{attrs:{to:{name:"bo_show",params:{bo_cd:"notice",bo_id:301}}}},[t._v("\r\n                 1231231\r\n                    ")]),t._v(" "),n("div",{staticClass:"con"},[t.board.img_file&&t.board.img_file.length?[t._l(t.board.img_file,(function(t,o){return n("img",{staticClass:"me-auto ms-auto d-block",attrs:{src:t.path}})})),t._v(" "),n("hr")]:t._e(),t._v(" "),n("div",{domProps:{innerHTML:t._s(t.nl2br(t.board.bo_content))}}),t._v(" "),n("hr")],2),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-6"},[n("router-link",{staticClass:"btn btn-sm btn-light",attrs:{to:{name:t.getLink+"bo_index",params:{bo_cd:t.bo_cd}}}},[t._v("목록")])],1),t._v(" "),t.$parent.isMine(t.board.created_id)?n("div",{staticClass:"col-6 text-right"},[n("router-link",{staticClass:"btn btn-sm btn-warning",attrs:{to:{name:"bo_edit",params:{bo_cd:t.bo_cd,bo_id:t.bo_id}}}},[t._v("수정")]),t._v(" "),n("b-button",{attrs:{variant:"danger",size:"sm"},on:{click:t.destroy}},[t._v("삭제")])],1):t._e()]),t._v(" "),t.board.config.is_comment?n("Comment",{attrs:{bo_cd:t.bo_cd,bo_id:t.bo_id}}):t._e()],1)}),[],!1,null,null,null).exports}}]);