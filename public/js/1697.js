"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1697],{13373:(o,t,a)=>{a.d(t,{Z:()=>r});var e=a(23645),d=a.n(e)()((function(o){return o[1]}));d.push([o.id,'.w_fence[data-v-29a33918]{max-width:100%;padding-left:0;padding-right:0}.goods[data-v-29a33918]{border-top:3px solid #4f637b}.goods .pa_tit[data-v-29a33918]{align-items:center;border-bottom:1px solid #d7d7d7;border-right:1px solid #d7d7d7;display:flex;flex:0 0 8%;justify-content:center;max-width:8%;text-align:center}.goods .gd_con .row.option[data-v-29a33918]{background-color:#f4f1ec}.goods .gd_con .row .col[data-v-29a33918]{border-bottom:1px solid #d7d7d7;font-size:.85rem;padding:.68rem}.goods .gd_con .row .col.align[data-v-29a33918]{align-items:center;display:flex;justify-content:center}.goods .gd_con .row:not(:first-child) .end[data-v-29a33918]{justify-content:flex-end}.goods .gd_con .row:not(:first-child) .col[data-v-29a33918]{color:#aeaeae}.goods .gd_con .row:not(:first-child) .col .btn[data-v-29a33918]{color:#aeaeae;font-size:.9rem}.goods .gd_con .row .col b[data-v-29a33918]{color:#000;font-size:.95rem}.goods .gd_con .row:first-child .col[data-v-29a33918]{font-size:.9rem;font-weight:600;line-height:1.7;padding:.86rem 0;text-align:center}.goods .gd_con .row .col[data-v-29a33918]:first-child{flex:0 0 7%;max-width:7%}.goods .gd_con .row .col[data-v-29a33918]:nth-child(2){border-right:1px solid #d7d7d7}.goods .gd_con .row .col[data-v-29a33918]:nth-child(3){border-right:1px solid #d7d7d7;flex:0 0 9%;max-width:9%}.goods .gd_con .row .col[data-v-29a33918]:nth-child(4){border-right:1px solid #d7d7d7;flex:0 0 11%;max-width:11%}.goods .gd_con .row .col[data-v-29a33918]:nth-child(5){border-right:1px solid #d7d7d7;flex:0 0 6%;max-width:6%}.goods .gd_con .row .col[data-v-29a33918]:nth-child(6){border-right:1px solid #d7d7d7;flex:0 0 12%;max-width:12%}.goods .gd_con .row .col[data-v-29a33918]:nth-child(7){flex:0 0 9%;flex-wrap:wrap;max-width:9%}.goods .gd_con .row .col img[data-v-29a33918]{width:100%}.goods .gd_con .row .col[data-v-29a33918] .myCheck .custom-control-label:after,.goods .gd_con .row .col[data-v-29a33918] .myCheck .custom-control-label:before{height:1.8rem;top:-2px;width:1.8rem}.goods .gd_con .row .col .sum[data-v-29a33918]{line-height:2;text-align:right;width:100%}.goods .gd_con .row .col.desc.option[data-v-29a33918]{align-items:center;display:flex}.goods .gd_con .row .col .sum[data-v-29a33918] .btn-group-toggle{display:block!important;text-align:center}.goods .gd_con .row .col .sum[data-v-29a33918] .btn-group-toggle .btn{background-color:#fff;border-color:#aaa;border-radius:2rem;color:#6f6f6f;font-size:.75rem;padding:.17rem .7rem}.goods .gd_con .row .col .sum[data-v-29a33918] .btn-group-toggle .btn.active{background-color:#4eb8c8;color:#fff}.goods .dlvy_fare[data-v-29a33918]{align-items:center;border-bottom:1px solid #d7d7d7;border-left:1px solid #d7d7d7;color:#aeaeae;display:flex;flex:0 0 9%;justify-content:center;max-width:9%;text-align:center}.sum_up[data-v-29a33918]{border-top:3px solid #4f637b}.sum_up .total[data-v-29a33918]{border-bottom:1px solid #d6d6d6}.sum_up .total .col[data-v-29a33918]{color:#000;font-weight:700;padding:1rem .5rem}.sum_up .total .col b[data-v-29a33918]{font-size:1.4rem}.sum_up .total .col[data-v-29a33918]:nth-of-type(odd){align-items:center;display:flex;padding-left:2rem}.sum_up .total .col[data-v-29a33918]:nth-of-type(2n){padding-right:2rem;text-align:right}.sum_up .total .col[data-v-29a33918]:nth-of-type(2){border-right:1px solid #d6d6d6}.sum_up .total .col[data-v-29a33918]:nth-of-type(2):after,.sum_up .total .col[data-v-29a33918]:nth-of-type(4):after{background:#707070;border-radius:13px;color:#fff;font-size:1.4rem;height:25px;line-height:1.2;position:absolute;right:-14px;text-align:center;top:19px;width:25px}.sum_up .total .col[data-v-29a33918]:nth-of-type(2):after{content:"+"}.sum_up .total .col[data-v-29a33918]:nth-of-type(4){border-right:1px solid #d6d6d6}.sum_up .total .col[data-v-29a33918]:nth-of-type(4):after{content:"="}.sum_up .total .col[data-v-29a33918]:nth-of-type(5){flex-basis:19.5%;max-width:19.5%}.sum_up .total .col[data-v-29a33918]:nth-of-type(6){flex-basis:21.05%;max-width:21.05%}.sum_up .total_sub[data-v-29a33918]{background:#f2f3f5;border-bottom-width:0}.sum_up .total_sub>.col[data-v-29a33918]:first-of-type,.sum_up .total_sub>.col[data-v-29a33918]:nth-of-type(2){border-right:1px solid #d6d6d6}.sum_up .total_sub>.col[data-v-29a33918]:nth-of-type(3){flex-basis:40.5%;max-width:40.5%}.sum_up .total_sub .col>div[data-v-29a33918]{display:flex;flex-wrap:wrap}.sum_up .total_sub .col>div[data-v-29a33918]:first-of-type{padding:1.3rem 1rem .5rem}.sum_up .total_sub .col>div[data-v-29a33918]:nth-of-type(2){padding:0 1rem 2.5rem}.sum_up .total_sub .col>div .col[data-v-29a33918]{color:#a8a9ab;font-size:.84rem;font-weight:700}.sum_up .total_sub .col>div .col[data-v-29a33918]:nth-of-type(2){text-align:right}.extra_info[data-v-29a33918]{font-size:.95rem;margin-top:3rem}.extra_info>.row>.col[data-v-29a33918]{border:1px solid #d7d7d7;padding:2%}.extra_info>.row>.col .label_st[data-v-29a33918]{flex-basis:100px;max-width:100px;padding-top:0}.extra_info>.row>.col[data-v-29a33918]:first-of-type{flex-basis:24%;max-width:24%}.extra_info>.row>.col[data-v-29a33918]:not(:first-of-type){margin-left:-1px}.extra_info>.row>.col .row[data-v-29a33918]{margin-left:0;margin-right:0}',""]);const r=d},11697:(o,t,a)=>{a.r(t),a.d(t,{default:()=>g});var e=a(87757),d=a.n(e),r=a(44670),n=a(20629);function _(o,t,a,e,d,r,n){try{var _=o[r](n),s=_.value}catch(o){return void a(o)}_.done?t(s):Promise.resolve(s).then(e,d)}function s(o){return function(){var t=this,a=arguments;return new Promise((function(e,d){var r=o.apply(t,a);function n(o){_(r,e,d,n,s,"next",o)}function s(o){_(r,e,d,n,s,"throw",o)}n(void 0)}))}}function i(o,t){var a=Object.keys(o);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(o);t&&(e=e.filter((function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),a.push.apply(a,e)}return a}function l(o){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){c(o,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(a,t))}))}return o}function c(o,t,a){return t in o?Object.defineProperty(o,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[t]=a,o}var v=new Date;const p={name:"MyOrder",components:{"loading-modal":function(){return a.e(2008).then(a.bind(a,32008))},"order-step":function(){return a.e(8211).then(a.bind(a,48211))},modal:function(){return a.e(7242).then(a.bind(a,47242))},"receipt-confirm":function(){return a.e(9179).then(a.bind(a,9179))}},data:function(){return{isModalViewed:!1,isLoadingModalViewed:!0,od:{order_extra_info:{}},receiptItem:{}}},computed:l(l({},(0,n.Se)({isLoggedin:"auth/isLoggedin",user:"auth/user",siteInfo:"common/siteInfo"})),{},{payPlanDisplay:function(){var o=this.od.order_extra_info.oex_pay_plan;return"soon"==o?"선 결제":"week1"==o?"1주이내 결제":"week2"==o?"2주이내 결제":"month1"==o?"한달이내 결제":"month2"==o?"2개월이내 결제":"dlvy"==o?"납품시 결제":o},reqDocumentDisplay:function(){var o=new Array;return"Y"==this.od.order_extra_info.oex_req_est&&o.push("견적서"),"Y"==this.od.order_extra_info.oex_req_tran&&o.push("거래명세서"),"Y"==this.od.order_extra_info.oex_req_biz&&o.push("사업자등록증사본"),"Y"==this.od.order_extra_info.oex_req_bank&&o.push("통장사본"),o.join(", ")},dlvy_4s:function(){return this.od.order_purchase_at.hasOwnProperty(0)?this.od.order_purchase_at[0].odpa_dlvy_p_add_vat:0},dlvy_other:function(){return Object.values(this.od.order_purchase_at).reduce((function(o,t){return o+(""!=t.odpa_pa_name?t.odpa_dlvy_p_add_vat:0)}),0)},sum_mileage:function(){return Math.round(this.od.od_gd_price*Auth.user().mileage_mul)}}),methods:{receiptConfirm:function(o){this.isModalViewed=!0,this.receiptItem=Object.assign({},o)},hide_modal:function(){this.isModalViewed=!1},getHref:function(o,t){return this.od.order_config.delivery_com[o].replace("[송장번호]",t)},print:function(){var o="/api/shop/order/printEstimate/".concat(this.$route.params.od_id);window.open(o,"견적서 인쇄","width = 900, height = 900, top = 10, left = 10, location = no")},downEstimateExcel:function(){var o=this;return s(d().mark((function t(){var a;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.Z.get("/api/shop/order/downEstimateExcel/".concat(o.$route.params.od_id),{responseType:"blob"});case 2:a=t.sent,o.orderDocumentDown(a,"Estimate_"+v.format("yyyyMMdd")+".xlsx");case 4:case"end":return t.stop()}}),t)})))()},downTransactionExcel:function(){var o=this;return s(d().mark((function t(){var a;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.Z.get("/api/shop/order/downTransactionExcel/".concat(o.$route.params.od_id),{responseType:"blob"});case 2:a=t.sent,o.orderDocumentDown(a,"Transaction_"+v.format("yyyyMMdd")+".xlsx");case 4:case"end":return t.stop()}}),t)})))()},orderDocumentDown:function(o,t){var a=window.URL.createObjectURL(new Blob([o.data])),e=document.createElement("a");e.href=a,e.setAttribute("download",t),document.body.appendChild(e),e.click()}},mounted:function(){var o=this;return s(d().mark((function t(){var a;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.Z.get("/api/shop/order/".concat(o.$route.params.od_id));case 2:(a=t.sent)&&200===a.status&&(o.od=a.data,o.isLoadingModalViewed=!1);case 4:case"end":return t.stop()}}),t)})))()}};var b=a(93379),m=a.n(b),u=a(13373),f={insert:"head",singleton:!1};m()(u.Z,f);u.Z.locals;const g=(0,a(51900).Z)(p,(function(){var o=this,t=o.$createElement,a=o._self._c||t;return a("b-container",{staticClass:"w_fence"},[a("h3",[o._v("주문 정보")]),o._v(" "),o.isLoadingModalViewed?a("loading-modal",{attrs:{position:"absolute"},on:{"close-modal":function(t){o.isLoadingModalViewed=!1}}},[o._v("Loading ......")]):a("div",[a("h5",[a("b",[o._v(o._s(o.od.created_at))]),o._v("   주문번호 "+o._s(o.od.od_no)+"  \r\n            "),a("order-step",{attrs:{order_config:o.od.order_config},model:{value:o.od.od_step,callback:function(t){o.$set(o.od,"od_step",t)},expression:"od.od_step"}})],1),o._v(" "),a("b-container",{staticClass:"goods"},o._l(o.od.order_purchase_at,(function(t,e){return a("b-row",{key:"pa_"+e},[a("b-col",{staticClass:"pa_tit"},[t.odpa_pa_id?a("b",[o._v("업체"),a("br"),o._v("직배송")]):a("b",[o._v("포사이언스"),a("br"),o._v("배송")])]),o._v(" "),a("b-col",{staticClass:"gd_con"},[a("b-row",[a("b-col"),o._v(" "),a("b-col",[o._v("주문 상품")]),o._v(" "),a("b-col",[o._v("제조사")]),o._v(" "),a("b-col",[o._v("판매가")]),o._v(" "),a("b-col",[o._v("수량")]),o._v(" "),a("b-col",[o._v("금액")]),o._v(" "),a("b-col",[o._v("진행현황")])],1),o._v(" "),o._l(t.order_model,(function(t,e){return a("b-row",{key:"gd_"+e,class:{model:"MODEL"==t.odm_type,option:"OPTION"==t.odm_type}},[a("b-col",{staticClass:"align"},["MODEL"==t.odm_type?a("div",[t.odm_gd_id?a("b-link",{attrs:{to:{name:"goods_show",params:{gd_id:t.odm_gd_id}}}},[a("img",{attrs:{src:t.img_thumb_src}})]):a("img",{attrs:{src:t.img_thumb_src}})],1):a("b",[o._v("추가 옵션")])]),o._v(" "),a("b-col",{staticClass:"desc",class:{option:"OPTION"==t.odm_type}},["MODEL"==t.odm_type?[a("b",[o._v(o._s(t.odm_gd_name))]),o._v(" "),a("p",[o._v("\r\n                                    제품명: "+o._s(t.odm_gm_name)+" / 판매단위: "+o._s(t.odm_gm_unit)+" "),a("br"),o._v("\r\n                                    모델명: "+o._s(t.odm_gm_code)+" / Cat.No.: "+o._s(t.odm_gm_catno)),a("br"),o._v("\r\n                                    사양: "+o._s(t.odm_gm_spec)+"\r\n                                ")])]:[o._v(o._s(t.odm_gm_name)+": "+o._s(t.odm_gm_spec))]],2),o._v(" "),a("b-col",{staticClass:"align"},[o._v(o._s(t.odm_mk_name))]),o._v(" "),a("b-col",{staticClass:"align end"},[o._v(o._s(o._f("won")(o._f("comma")(t.odm_price_add_vat))))]),o._v(" "),a("b-col",{staticClass:"align"},[o._v(o._s(o._f("comma")(t.odm_ea)))]),o._v(" "),a("b-col",{staticClass:"align"},[a("b",{staticClass:"sum"},[o._v("\r\n                                "+o._s(o._f("won")(o._f("comma")(t.odm_price_add_vat*t.odm_ea)))+"\r\n                            ")])]),o._v(" "),a("b-col",{staticClass:"align"},["MODEL"==t.odm_type?[t.order_dlvy_info.oddi_receive_date?a("b-badge",{attrs:{variant:"light"}},[o._v("수취완료")]):t.order_dlvy_info.oddi_arrival_date?a("b-badge",{attrs:{variant:"success"}},[o._v("배송완료")]):t.order_dlvy_info.oddi_dlvy_num?a("b-button",{attrs:{size:"sm",variant:"info",href:o.getHref(t.order_dlvy_info.oddi_dlvy_com,t.order_dlvy_info.oddi_dlvy_num)}},[o._v("배송조회")]):a("b-badge",{attrs:{variant:"primary"}},[o._v("준비중")]),o._v(" "),a("br"),o._v(" "),t.order_dlvy_info.oddi_receive_date?o._e():[t.order_dlvy_info.oddi_dlvy_created_at||t.order_dlvy_info.oddi_arrival_date?a("b-button",{staticClass:"teal xm",on:{click:function(a){return o.receiptConfirm(t)}}},[o._v("\r\n                                        수취확인\r\n                                    ")]):o._e()]]:o._e()],2)],1)}))],2),o._v(" "),a("b-col",{staticClass:"dlvy_fare"},[a("div",["AIR"==t.odpa_pa_type?a("p",[o._v("항공 운임료")]):a("p",[o._v("배송비")]),o._v("\r\n                        "+o._s(o._f("won")(o._f("comma")(t.odpa_dlvy_p_add_vat)))+"\r\n                    ")])])],1)})),1),o._v(" "),a("b-container",{staticClass:"sum_up"},[a("b-row",{staticClass:"total"},[a("b-col",[o._v("상품금액")]),o._v(" "),a("b-col",[a("b",[o._v(o._s(o._f("won")(o._f("comma")(o.od.od_gd_price+o.od.od_surtax))))])]),o._v(" "),a("b-col",[o._v("배송료")]),o._v(" "),a("b-col",[a("b",[o._v(o._s(o._f("won")(o._f("comma")(o.od.od_dlvy_price))))])]),o._v(" "),a("b-col",[o._v("결제 예정 금액")]),o._v(" "),a("b-col",[a("b",[o._v(o._s(o._f("won")(o._f("comma")(o.od.od_all_price))))])])],1),o._v(" "),a("b-row",{staticClass:"total_sub"},[a("b-col",[a("div",[a("b-col",[o._v("상품가")]),a("b-col",[o._v(o._s(o._f("won")(o._f("comma")(o.od.od_gd_price))))])],1),o._v(" "),a("div",[a("b-col",[o._v("부가세")]),a("b-col",[o._v(o._s(o._f("won")(o._f("comma")(o.od.od_surtax))))])],1)]),o._v(" "),a("b-col",[a("div",[a("b-col",[o._v("포사이언스 배송")]),a("b-col",[o._v(o._s(o._f("comma")(o.dlvy_4s)))])],1),o._v(" "),a("div",[a("b-col",[o._v("업체 배송")]),a("b-col",[o._v(o._s(o._f("comma")(o.dlvy_other)))])],1)]),o._v(" "),a("b-col",[a("div",[a("b-col",[o._v("적립예정 마일리지")]),a("b-col",[o._v(o._s(o._f("comma")(o.sum_mileage)))])],1)])],1)],1),o._v(" "),a("b-container",{staticClass:"extra_info frm_st"},[a("b-row",[a("b-col",[a("b-row",[a("b-col",{staticClass:"label_st"},[o._v("주문자명")]),a("b-col",[o._v(o._s(o.od.od_name))])],1),o._v(" "),a("b-row",[a("b-col",{staticClass:"label_st"},[o._v("연락처")]),a("b-col",[o._v(o._s(o.od.od_orderer_hp))])],1),o._v(" "),a("b-row",[a("b-col",{staticClass:"label_st"},[o._v("이메일")]),a("b-col",[o._v(o._s(o.od.od_orderer_email))])],1),o._v(" "),a("b-row",[a("b-col",{staticClass:"label_st"},[o._v("직장/학교")]),a("b-col",[o._v(o._s(o.od.od_company))])],1),o._v(" "),a("b-row",[a("b-col",{staticClass:"label_st"},[o._v("부서/학과/연구실")]),a("b-col",[o._v(o._s(o.od.od_part))])],1)],1),o._v(" "),a("b-col",[a("b-row",[a("b-col",{staticClass:"label_st"},[o._v("수령인")]),a("b-col",[o._v(o._s(o.od.od_receiver))])],1),o._v(" "),a("b-row",[a("b-col",{staticClass:"label_st"},[o._v("연락처")]),a("b-col",[o._v(o._s(o.od.od_receiver_hp))])],1),o._v(" "),a("b-row",[a("b-col",{staticClass:"label_st"},[o._v("주소")]),a("b-col",[o._v(o._s(o.od.od_addr1)+" "+o._s(o.od.od_addr2))])],1),o._v(" "),a("b-row",[a("b-col",{staticClass:"label_st"},[o._v("배송시"),a("br"),o._v("요구사항")]),a("b-col",[o._v(o._s(o.od.od_memo))])],1)],1),o._v(" "),a("b-col",[a("b-row",[a("b-col",{staticClass:"label_st"},[o._v("결제금액")]),o._v(" "),a("b-col",[o._v(o._s(o._f("won")(o._f("comma")(o.od.od_all_price))))])],1),o._v(" "),a("b-row",[a("b-col",{staticClass:"label_st"},[o._v("결제수단")]),o._v(" "),a("b-col",["B"==o.od.od_pay_method?a("span",[o._v("계좌이체")]):"E"==o.od.od_pay_method?a("span",[o._v("에스크로")]):"C"==o.od.od_pay_method?a("span",[o._v("\r\n                                카드결제\r\n                                "),o.od.order_pg&&"PSYS"!=o.od.order_pg.pg_pay_type?[a("b-button",{staticClass:"sm",on:{click:function(t){return o.openWinPop("https://iniweb.inicis.com/receipt/iniReceipt.jsp?noTid="+o.od.order_pg.pg_tid,450,550)}}},[o._v("매출전표")])]:o._e()],2):"P"==o.od.od_pay_method?a("span",[o._v("PSYS")]):"R"==o.od.od_pay_method?a("span",[o._v("원격결제")]):o._e()])],1),o._v(" "),a("b-row",[a("b-col",{staticClass:"label_st"},[o._v("입금자명")]),o._v(" "),a("b-col",[o._v(o._s(o.od.order_extra_info.oex_depositor))])],1),o._v(" "),a("b-row",[a("b-col",{staticClass:"label_st"},[o._v("결제예정일")]),o._v(" "),a("b-col",[o._v(o._s(o.payPlanDisplay))])],1),o._v(" "),a("b-row",[a("b-col",{staticClass:"label_st"},[o._v("입금계좌")]),o._v(" "),a("b-col",["K"==o.od.order_extra_info.oex_bank?a("span",[o._v("국민은행 - "+o._s(o.siteInfo.bank.num02))]):"W"==o.od.order_extra_info.oex_bank?a("span",[o._v("우리은행 - "+o._s(o.siteInfo.bank.num01))]):o._e()])],1),o._v(" "),a("b-row",[a("b-col",{staticClass:"label_st"},[o._v("요청서류")]),o._v(" "),a("b-col",[o._v(o._s(o.reqDocumentDisplay))])],1)],1)],1)],1),o._v(" "),o.od.od_step<60&&!o.isEmpty(o.od.od_mng)?a("div",{staticClass:"btn_box"},[a("b-button",{staticClass:"black lg",on:{click:o.print}},[o._v("견적서 출력")]),o._v(" "),a("b-button",{staticClass:"gray lg",on:{click:o.downEstimateExcel}},[o._v("견적서 EXCEL 다운")]),o._v(" "),a("b-button",{staticClass:"blue lg",on:{click:o.downTransactionExcel}},[o._v("거래명세서 EXCEL 다운")])],1):o._e()],1),o._v(" "),a("transition",{attrs:{name:"modal"}},[o.isModalViewed?a("modal",{attrs:{max_width:500},on:{"close-modal":function(t){o.isModalViewed=!1}}},[a("receipt-confirm",{attrs:{item:o.receiptItem},on:{hide_modal:o.hide_modal}})],1):o._e()],1)],1)}),[],!1,null,"29a33918",null).exports}}]);