"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9174],{9320:(e,t,r)=>{r.d(t,{Z:()=>m});var n=r(3645),a=r.n(n)()((function(e){return e[1]}));a.push([e.id,'.auth_create{max-width:992px}.auth_create .form-group{margin:0}.auth_create .row{margin-bottom:1rem}.auth_create .col label.required:before{color:red;content:"✭"}.auth_create .col .interest_etc{width:auto}',""]);const m=a},9174:(e,t,r)=>{r.r(t),r.d(t,{default:()=>d});var n=r(7757),a=r.n(n),m=r(4670),i=r(9828);function s(e,t,r,n,a,m,i){try{var s=e[m](i),o=s.value}catch(e){return void r(e)}s.done?t(o):Promise.resolve(o).then(n,a)}const o={name:"AuthCreate",components:{FormUser:function(){return r.e(1873).then(r.bind(r,1873))},FormDealer:function(){return r.e(7723).then(r.bind(r,7723))}},data:function(){return{frm:{sex:"male",receive_mail:"Y",receive_sms:"Y"}}},methods:{getValidationState:function(e){var t=e.dirty,r=e.validated,n=e.valid;return t||r?void 0===n?null:n:null},register:function(){var e,t=this;return(e=a().mark((function e(){var r,n,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=new FormData,n=document.getElementById("ub_file"),isEmpty(t.frm.name)||r.append("name",t.frm.name),isEmpty(t.frm.sex)||r.append("sex",t.frm.sex),isEmpty(t.frm.email)||r.append("email",t.frm.email),isEmpty(t.frm.receive_mail)||r.append("receive_mail",t.frm.receive_mail),isEmpty(t.frm.password)||r.append("password",t.frm.password),isEmpty(t.frm.password_confirmation)||r.append("password_confirmation",t.frm.password_confirmation),isEmpty(t.frm.birth)||r.append("birth",t.frm.birth),isEmpty(t.frm.hp)||r.append("hp",t.frm.hp),isEmpty(t.frm.receive_sms)||r.append("receive_sms",t.frm.receive_sms),isEmpty(t.frm.tel)||r.append("tel",t.frm.tel),isEmpty(t.frm.fax)||r.append("fax",t.frm.fax),isEmpty(t.frm.job)||r.append("job",t.frm.job),isEmpty(t.frm.office)||r.append("office",t.frm.office),isEmpty(t.frm.department)||r.append("department",t.frm.department),isEmpty(t.frm.grade)||r.append("grade",t.frm.grade),isEmpty(t.frm.tutor)||r.append("tutor",t.frm.tutor),isEmpty(t.frm.offer)||r.append("offer",t.frm.offer),isEmpty(t.frm.offer_lab)||r.append("offer_lab",t.frm.offer_lab),isEmpty(t.frm.interest)||r.append("interest",t.frm.interest),isEmpty(t.frm.interest_etc)||r.append("interest_etc",t.frm.interest_etc),isEmpty(t.frm.join_route)||r.append("join_route",t.frm.join_route),"dealer"==t.$route.params.code&&(isEmpty(t.frm.level)||r.append("level",t.frm.level),isEmpty(t.frm.ub_num)||r.append("ub_num",t.frm.ub_num),isEmpty(t.frm.ub_file)||r.append("ub_file",n.files[0]),isEmpty(t.frm.ub_corp_name)||r.append("ub_corp_name",t.frm.ub_corp_name),isEmpty(t.frm.ub_name)||r.append("ub_name",t.frm.ub_name),isEmpty(t.frm.ub_tel)||r.append("ub_tel",t.frm.ub_tel),isEmpty(t.frm.ub_zip)||r.append("ub_zip",t.frm.ub_zip),isEmpty(t.frm.ub_addr1)||r.append("ub_addr1",t.frm.ub_addr1),isEmpty(t.frm.ub_addr2)||r.append("ub_addr2",t.frm.ub_addr2),isEmpty(t.frm.ub_type)||r.append("ub_type",t.frm.ub_type),isEmpty(t.frm.ub_cond)||r.append("ub_cond",t.frm.ub_cond)),e.next=27,m.Z.post("/register",r);case 27:if(!(s=e.sent)||201!==s.status){e.next=31;break}return e.next=31,m.Z.get("auth_check").then((function(e){console.log(e.data),1===e.data&&m.Z.get("/api/user").then((function(e){i.Z.state.auth.isLoggedin=!0,i.Z.state.auth.user=e.data.user,i.Z.state.auth.csrfToken=e.data.token,document.querySelector("meta[name=csrf-token]").setAttribute("content",e.data.token),t.$router.push({name:"main"})}))})).catch((function(){}));case 31:e.next=37;break;case 33:e.prev=33,e.t0=e.catch(0),Notify.consolePrint(e.t0),Notify.toast("warning",e.t0.response.data.message);case 37:case"end":return e.stop()}}),e,null,[[0,33]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var m=e.apply(t,r);function i(e){s(m,n,a,i,o,"next",e)}function o(e){s(m,n,a,i,o,"throw",e)}i(void 0)}))})()}},beforeRouteEnter:function(e,t,r){if(i.Z.state.auth.isLoggedin)return r("/");r()},mounted:function(){"dealer"==this.$route.params.code&&(this.frm.level=10)}};var p=r(3379),f=r.n(p),u=r(9320),c={insert:"head",singleton:!1};f()(u.Z,c);u.Z.locals;const d=(0,r(1900).Z)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",{staticClass:"auth_create w_fence"},[r("h3",[e._v("회원가입 정보 입력")]),e._v(" "),r("FormUser",{model:{value:e.frm,callback:function(t){e.frm=t},expression:"frm"}}),e._v(" "),"dealer"==e.$route.params.code?r("FormDealer",{model:{value:e.frm,callback:function(t){e.frm=t},expression:"frm"}}):e._e(),e._v(" "),r("b-row",[r("b-col",[r("b-button",{staticClass:"float-left",attrs:{variant:"danger"},on:{click:function(t){return e.$router.go(-1)}}},[e._v("취소")])],1),e._v(" "),r("b-col",{staticClass:"text-right"},[r("b-button",{staticClass:"float-right",attrs:{variant:"primary"},on:{click:e.register}},[e._v("회원가입")])],1)],1)],1)}),[],!1,null,null,null).exports}}]);