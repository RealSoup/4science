"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4187],{4187:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(7757),n=s.n(r),i=s(4670);function a(e,t,s,r,n,i,a){try{var u=e[i](a),l=u.value}catch(e){return void s(e)}u.done?t(l):Promise.resolve(l).then(r,n)}const u={props:["value","type","frm"],data:function(){return{users:[]}},computed:{input_val:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},methods:{getUserList:function(){var e,t=this;return(e=n().mark((function e(){var s,r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.$refs.sch_field.value,!("name"==t.type&&s.length<2)){e.next=6;break}return Notify.toast("warning","2자 이상 입력시 검색 가능합니다."),e.abrupt("return",!1);case 6:if(!("email"==t.type&&s.length<3)){e.next=11;break}return Notify.toast("warning","3자 이상 입력시 검색 가능합니다."),e.abrupt("return",!1);case 11:if(!("department"==t.type&&s.length<3)){e.next=16;break}return Notify.toast("warning","3자 이상 입력시 검색 가능합니다."),e.abrupt("return",!1);case 16:if(!("hp"==t.type&&s.length<4)){e.next=19;break}return Notify.toast("warning","4자 이상 입력시 검색 가능합니다."),e.abrupt("return",!1);case 19:if(!("name"==t.type&&s.length>1||"email"==t.type&&s.length>2||"department"==t.type&&s.length>2||"hp"==t.type&&s.length>3)){e.next=31;break}return e.prev=20,e.next=23,i.Z.get("/api/admin/user/list",{params:{type:t.type,key:s}});case 23:(r=e.sent)&&200===r.status&&(r.data.length?t.users=r.data:t.users=[{name:"정보없음"}]),e.next=31;break;case 27:e.prev=27,e.t0=e.catch(20),Notify.consolePrint(e.t0),Notify.toast("warning",e.t0.response.data.message);case 31:case"end":return e.stop()}}),e,null,[[20,27]])})),function(){var t=this,s=arguments;return new Promise((function(r,n){var i=e.apply(t,s);function u(e){a(i,r,n,u,l,"next",e)}function l(e){a(i,r,n,u,l,"throw",e)}u(void 0)}))})()},setUser:function(e){this.users[e]&&"정보없음"!=this.users[e].name&&(this.$set(this.frm,"created_id",this.users[e].id),this.$set(this.frm,"eq_name",this.users[e].name),this.$set(this.frm,"eq_email",this.users[e].email),this.$set(this.frm,"eq_department",this.users[e].department),this.$set(this.frm,"eq_hp",this.users[e].hp),this.$set(this.frm,"eq_tel",this.users[e].tel),this.$set(this.frm,"eq_fax",this.users[e].fax)),this.users=[]},formatter:function(e){return"hp"==this.type?this.formatHp(e):e},hide:function(){this.users=[]}}};const l=(0,s(1900).Z)(u,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"awesome_p"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.input_val,expression:"input_val"},{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],ref:"sch_field",attrs:{type:"text",required:"",autocomplete:"off",id:"eq_"+e.type,title:"입력 후 엔터 or 버튼"},domProps:{value:e.input_val},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getUserList.apply(null,arguments)},input:function(t){t.target.composing||(e.input_val=t.target.value)}}}),e._v(" "),"name"==e.type?s("label",{attrs:{for:e.type}},[e._v("이름")]):"email"==e.type?s("label",{attrs:{for:e.type}},[e._v("이메일")]):"department"==e.type?s("label",{attrs:{for:e.type}},[e._v("소속 "),e._m(0)]):"hp"==e.type?s("label",{attrs:{for:e.type}},[e._v("HP")]):e._e(),e._v(" "),s("b-button",{attrs:{size:"sm"},on:{click:e.getUserList}},[s("b-icon-search")],1),e._v(" "),e.users.length?s("ul",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.hide,expression:"hide"}],staticClass:"list-group autocomplete"},e._l(e.users,(function(t,r){return s("li",{staticClass:"list-group-item",on:{click:function(t){return e.setUser(r)}}},[e._v("\n            "+e._s(t.name)),s("br"),e._v(" "),t.email?s("p",[e._v(e._s(t.email))]):e._e(),e._v(" "),t.hp?s("p",[e._v(e._s(t.hp))]):e._e(),e._v(" "),t.department?s("p",[e._v(e._s(t.department))]):e._e()])})),0):e._e()],1)}),[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("small",[s("i",[e._v("직장/학교/부서/학과/연구실명")])])}],!1,null,null,null).exports}}]);