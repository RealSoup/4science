"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1376],{62283:(t,o,n)=>{n.d(o,{Z:()=>r});var e=n(23645),a=n.n(e)()((function(t){return t[1]}));a.push([t.id,"#bo_show{margin:auto;max-width:1400px}#bo_show h3{margin:2rem 0 1rem}#bo_show .bd_info{line-height:1.4rem}#bo_show .bd_info li{margin-right:1.5rem}#bo_show .bd_info .add_file{margin-left:24px}#bo_show .bd_info .add_file i{margin:0 3px 0 -24px}#bo_show .bd_info .add_file .piece{background-color:#888;border:1px dashed #ccc;border-radius:.3rem;color:#fff;cursor:pointer;letter-spacing:-1px;margin-right:1rem;padding:.1rem .3rem}#bo_show .bd_info .bo_type{font-size:1.2rem}#bo_show .con{line-height:1.5rem;margin-bottom:3rem}#bo_show .con img{max-width:100%}#bo_show .con .answer{background:#eceaeb;border-radius:10px;margin-top:1rem;padding:1rem 2.5rem}#bo_show .con .answer h6{color:#fa931d;font-size:1.2rem;font-weight:700;margin:1.5rem 0}#bo_show .con .answer .date{margin-top:4rem}#bo_show .con table{border:0;border-collapse:collapse;border-spacing:0;padding:0}#bo_show .con table td,#bo_show .con table th,#bo_show .con table tr{padding:0}",""]);const r=a},96980:(t,o,n)=>{n.d(o,{Z:()=>r});var e=n(23645),a=n.n(e)()((function(t){return t[1]}));a.push([t.id,"#bo_show #comment h5[data-v-1a57aa82]{margin:2rem 0}#bo_show #comment>ul>li[data-v-1a57aa82]{border-bottom:1px solid #ccc;margin-bottom:1rem;padding-bottom:1rem}#bo_show #comment>ul>li .bo_content[data-v-1a57aa82]{margin:1rem auto}#bo_show #comment>ul>li .bo_content p img[data-v-1a57aa82]{max-width:100%}",""]);const r=a},41376:(t,o,n)=>{n.r(o),n.d(o,{default:()=>m});var e=n(87757),a=n.n(e),r=n(44670);function s(t,o,n,e,a,r,s){try{var i=t[r](s),c=i.value}catch(t){return void n(t)}i.done?o(c):Promise.resolve(c).then(e,a)}function i(t){return function(){var o=this,n=arguments;return new Promise((function(e,a){var r=t.apply(o,n);function i(t){s(r,e,a,i,c,"next",t)}function c(t){s(r,e,a,i,c,"throw",t)}i(void 0)}))}}const c={name:"AdmBoardShow",components:{comment:n(56970).Z},data:function(){return{board:{config:{}},bo_cd:this.$route.params.bo_cd,bo_id:this.$route.params.bo_id}},filters:{bo_type:function(t){var o="";switch(t){case"C":o="배송전 주문취소";break;case"R":o="반품";break;case"S":o="교환"}return o}},computed:{getLink:function(){return"my_bo_show"==this.$route.name?"my_":""}},methods:{show:function(){var t=this;return i(a().mark((function o(){var n;return a().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,r.Z.get("/api/admin/board/".concat(t.bo_cd,"/show/").concat(t.bo_id));case 3:(n=o.sent)&&200===n.status&&(t.board=n.data),o.next=11;break;case 7:o.prev=7,o.t0=o.catch(0),Notify.consolePrint(o.t0),Notify.toast("warning",o.t0.response.data.message);case 11:case"end":return o.stop()}}),o,null,[[0,7]])})))()},destroy:function(){var t=this;return i(a().mark((function o(){var n,e;return a().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,Notify.confirm("삭제","danger");case 3:if(!o.sent){o.next=11;break}return(n=new FormData).append("_method","DELETE"),o.next=9,r.Z.post("/api/board/".concat(t.bo_cd,"/destroy/").concat(t.bo_id),n);case 9:(e=o.sent)&&200===e.status&&t.$router.push({name:"adm_board_index",params:{bo_cd:t.bo_cd}});case 11:o.next=17;break;case 13:o.prev=13,o.t0=o.catch(0),Notify.consolePrint(o.t0),Notify.toast("warning",o.t0.response.data.message);case 17:case"end":return o.stop()}}),o,null,[[0,13]])})))()}},beforeRouteUpdate:function(t,o,n){this.bo_id=t.params.bo_id,this.show(),n()},mounted:function(){this.show()}};var d=n(93379),_=n.n(d),l=n(62283),b={insert:"head",singleton:!1};_()(l.Z,b);l.Z.locals;const m=(0,n(51900).Z)(c,(function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("div",{attrs:{id:"bo_show"}},[n("h3",[t._v(t._s(t.board.bo_subject))]),t._v(" "),n("ul",{staticClass:"list-inline bd_info"},[n("li",{staticClass:"list-inline-item"},[n("router-link",{attrs:{to:{name:"adm_user_edit",params:{id:t.board.created_id}}}},[n("b-icon",{attrs:{icon:"person-fill"}}),t._v(" "+t._s(t.board.bo_writer))],1)],1),t._v(" "),n("li",{staticClass:"list-inline-item"},[n("b-icon",{attrs:{icon:"calendar-date-fill"}}),t._v(" "+t._s(t.board.created_at))],1),t._v(" "),n("li",{staticClass:"list-inline-item"},[n("b-icon",{attrs:{icon:"eye-fill"}}),t._v(" "+t._s(t.board.bo_click))],1),t._v(" "),t.board.add_file&&t.board.add_file.length?n("li",{staticClass:"list-inline-item add_file"},[n("b-icon",{attrs:{icon:"file-earmark-arrow-down-fill"}}),t._v(" "),t._l(t.board.add_file,(function(o){return[n("span",{key:o.fi_id,staticClass:"piece",on:{click:function(n){return t.fileDown(o.down_path,o.fi_original)}}},[t._v(t._s(o.fi_original))])]}))],2):t._e(),t._v(" "),"cancel"==t.bo_cd?n("li",{staticClass:"list-inline-item bo_type badge badge-warning"},[t._v("\r\n            분류 : "+t._s(t._f("bo_type")(t.board.bo_type))+"\r\n        ")]):t._e()]),t._v(" "),n("hr"),t._v(" "),n("div",{staticClass:"con"},[t.board.goods?n("img",{staticClass:"me-auto ms-auto d-block",attrs:{src:t.board.goods.image_src[0]}}):t._e(),t._v(" "),t.board.img_file&&t.board.img_file.length?[t._l(t.board.img_file,(function(t,o){return n("img",{key:o,staticClass:"me-auto ms-auto d-block",attrs:{src:t.path}})})),t._v(" "),n("hr")]:t._e(),t._v(" "),n("div",{domProps:{innerHTML:t._s(t.nl2br(t.board.bo_content))}}),t._v(" "),n("hr"),t._v(" "),t.board.answer?n("div",{staticClass:"answer"},[n("h6",[t._v("A")]),t._v(" "),n("div",{domProps:{innerHTML:t._s(t.nl2br(t.board.answer.bo_content))}}),t._v(" "),n("p",{staticClass:"date"},[t._v(t._s(t._f("formatDate")(t.board.answer.created_at)))])]):t._e()],2),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-6"},[n("router-link",{staticClass:"btn btn-sm btn-light",attrs:{to:{name:"adm_board_index",params:{bo_cd:t.bo_cd}}}},[t._v("목록")])],1),t._v(" "),n("div",{staticClass:"col-6 text-right"},[t.board.answer?t._e():n("b-button",{staticClass:"sm mint",attrs:{to:{name:"adm_board_answer",params:{bo_cd:t.bo_cd,bo_id:t.bo_id}}}},[t._v("답변")]),t._v(" "),n("router-link",{staticClass:"btn btn-sm btn-warning",attrs:{to:{name:"adm_board_edit",params:{bo_cd:t.bo_cd,bo_id:t.bo_id}}}},[t._v("수정")]),t._v(" "),t.board.answer?n("router-link",{staticClass:"btn btn-sm btn-warning",attrs:{to:{name:"adm_board_edit",params:{bo_cd:t.bo_cd,bo_id:t.board.answer.bo_id}}}},[t._v("답변 수정")]):t._e(),t._v(" "),n("b-button",{attrs:{variant:"danger",size:"sm"},on:{click:t.destroy}},[t._v("삭제")])],1)]),t._v(" "),t.board.config.is_comment?n("comment",{attrs:{bo_cd:t.bo_cd,bo_id:t.bo_id}}):t._e()],1)}),[],!1,null,null,null).exports},56970:(t,o,n)=>{n.d(o,{Z:()=>m});var e=n(87757),a=n.n(e),r=n(44670);function s(t,o,n,e,a,r,s){try{var i=t[r](s),c=i.value}catch(t){return void n(t)}i.done?o(c):Promise.resolve(c).then(e,a)}function i(t){return function(){var o=this,n=arguments;return new Promise((function(e,a){var r=t.apply(o,n);function i(t){s(r,e,a,i,c,"next",t)}function c(t){s(r,e,a,i,c,"throw",t)}i(void 0)}))}}const c={name:"Comment",components:{CommentFormGroup:function(){return n.e(9648).then(n.bind(n,59648))}},props:["bo_cd","bo_id"],data:function(){return{sltIndex:-1,bo_co_list:[],comment_mode:"create"}},methods:{index:function(t){var o=this;return i(a().mark((function t(){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.Z.get("/api/board/".concat(o.bo_cd,"/indexComment/").concat(o.bo_id));case 3:200===(n=t.sent).status&&(o.bo_co_list=n.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0.response);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},coWrite:function(t){this.sltIndex=t,this.comment_mode="reCreate",this.$nextTick((function(){this.$refs.commentFormGroup[0].textAreaFocus()}))},coUadate:function(t){this.sltIndex=t,this.comment_mode="reEdit",this.$nextTick((function(){this.$refs.commentFormGroup[0].textAreaFocus()}))},isDestroy:function(t){var o=this;this.$bvModal.msgBoxConfirm("삭제 하시겠습니까?",Object.assign({title:"삭제 확인 안내"},this.ConfirmModal)).then((function(n){n&&o.coDestroy(t)})).catch((function(t){}))},coDestroy:function(t){var o=this;return i(a().mark((function n(){var e,s;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,(e=new FormData).append("_method","DELETE"),n.next=5,r.Z.post("/api/board/".concat(o.bo_cd,"/destroy/").concat(t),e);case 5:(s=n.sent)&&200===s.status&&(Notify.toast("success","댓글 삭제"),o.index()),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),500===n.t0.response.status?o.makeAlert(n.t0.response.data):(console.error("Failure!"),console.error(n.t0.response.status));case 12:case"end":return n.stop()}}),n,null,[[0,9]])})))()},hideCommentForm:function(){this.sltIndex=-1,this.comment_mode="create"},goodBad:function(t,o,n){var e=this;return i(a().mark((function s(){var i,c,d,_;return a().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,i="",c="",a.next=5,r.Z.get("/api/board/".concat(e.bo_cd,"/goodBad/").concat(t,"/").concat(o));case 5:d=a.sent,_=d.data,!1!==d&&("success"===_?(i="GOOD"==o?"추천 적용":"비추천 적용",Notify.toast("success",i),e.goodBadArrUpdate(o,n,"up")):("already"==_?c="취소시 지급된 포인트도 함께 취소됩니다. ":"reverse"==_&&(c="GOOD"==o?"비추천을 추천으로 ":"추천을 비추천으로 "),e.$bvModal.msgBoxConfirm(c+"수정하겠습니까?",Object.assign({title:"추천/비추천 안내"},e.ConfirmModal)).then((function(a){a&&e.reGoodBad(t,_,o,n)})).catch((function(t){})))),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),Notify.consolePrint(a.t0);case 13:case"end":return a.stop()}}),s,null,[[0,10]])})))()},reGoodBad:function(t,o,n,e){var s=this;return i(a().mark((function i(){return a().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,r.Z.get("/api/board/".concat(s.bo_cd,"/goodBad/").concat(t,"/").concat(o));case 2:200===a.sent.status&&("already"==o?s.goodBadArrUpdate(n,e,"down"):"reverse"==o&&("GOOD"==n?(s.goodBadArrUpdate(n,e,"up"),s.goodBadArrUpdate("BAD",e,"down")):(s.goodBadArrUpdate(n,e,"up"),s.goodBadArrUpdate("GOOD",e,"down"))));case 4:case"end":return a.stop()}}),i)})))()},goodBadArrUpdate:function(t,o,n){"GOOD"==t?"up"==n?this.bo_co_list[o].bo_good++:this.bo_co_list[o].bo_good--:"up"==n?this.bo_co_list[o].bo_bad++:this.bo_co_list[o].bo_bad--},calcPl:function(t){return 30*(t.length-1)}},mounted:function(){this.index()}};var d=n(93379),_=n.n(d),l=n(96980),b={insert:"head",singleton:!1};_()(l.Z,b);l.Z.locals;const m=(0,n(51900).Z)(c,(function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("article",{attrs:{id:"comment"}},[n("h5",[t._v("댓글 "),n("small",[t._v(t._s(t.bo_co_list.length)+"개")])]),t._v(" "),t.bo_co_list&&t.bo_co_list.length?n("ul",{staticClass:"container"},[t._l(t.bo_co_list,(function(o,e){return[n("li",{key:o.bo_id,staticClass:"row pillar",style:{paddingLeft:t.calcPl(o.bo_co_seq_cd)+"px"},attrs:{id:"comment_"+o.bo_id}},[n("div",{staticClass:"col-md-6 col-12"},[n("span",[n("b-icon",{attrs:{icon:"person-fill"}}),t._v(" "+t._s(o.bo_writer))],1),t._v(" "),n("span",[n("b-icon",{attrs:{icon:"calendar-date-fill"}}),t._v(" "+t._s(o.created_at))],1)]),t._v(" "),n("div",{staticClass:"col-md-6 col-12 text-right"},[t.$parent.isMine(o.created_id)?t._e():n("b-button",{attrs:{variant:"success",size:"sm"},on:{click:function(n){return t.goodBad(o.bo_id,"GOOD",e)}}},[n("b-icon",{attrs:{icon:"hand-thumbs-up"}}),t._v(" "),n("span",[t._v(t._s(o.bo_good))])],1),t._v(" "),t.$parent.isMine(o.created_id)?t._e():n("b-button",{attrs:{variant:"danger",size:"sm"},on:{click:function(n){return t.goodBad(o.bo_id,"BAD",e)}}},[n("b-icon",{attrs:{icon:"hand-thumbs-down"}}),t._v(" "),n("span",[t._v(t._s(o.bo_bad))])],1),t._v(" "),n("b-button",{attrs:{variant:"secondary",size:"sm"},on:{click:function(o){return t.coWrite(e)}}},[n("b-icon",{attrs:{icon:"chat-left-dots-fill"}})],1),t._v(" "),t.$parent.isMine(o.created_id)?[n("b-button",{attrs:{variant:"warning",size:"sm"},on:{click:function(o){return t.coUadate(e)}}},[n("b-icon",{attrs:{icon:"scissors"}})],1),t._v(" "),n("b-button",{attrs:{variant:"danger",size:"sm"},on:{click:function(n){return t.isDestroy(o.bo_id)}}},[n("b-icon",{attrs:{icon:"trash-fill"}})],1)]:t._e()],2),t._v(" "),n("div",{staticClass:"col-12 bo_content"},[o.file_info_bo.length?n("p",[n("img",{staticClass:"me-auto ms-auto d-block",attrs:{src:o.file_info_bo[0].src}})]):t._e(),t._v(" "),n("div",{domProps:{innerHTML:t._s(o.bo_content)}})]),t._v(" "),n("div",{staticClass:"col-12 box_co"},[e==t.sltIndex?n("CommentFormGroup",{ref:"commentFormGroup",refInFor:!0,attrs:{sltIndex:t.sltIndex,bo_cd:t.bo_cd,bo_id:o.bo_id,prevBo_content:o.bo_content,comment_mode:t.comment_mode,fi_id:o.file_info_bo.length?o.file_info_bo[0].fi_id:""},on:{callIndex:t.index,callHideCommentForm:function(o){return t.hideCommentForm()}}}):t._e()],1)])]}))],2):t._e(),t._v(" "),-1==t.sltIndex?n("CommentFormGroup",{attrs:{sltIndex:t.sltIndex,bo_cd:t.bo_cd,bo_id:t.bo_id,comment_mode:t.comment_mode},on:{callIndex:t.index}}):t._e()],1)}),[],!1,null,"1a57aa82",null).exports}}]);