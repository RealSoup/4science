"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4370],{4370:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});var o=n(7757),a=n.n(o),m=n(4670);function r(e,t,n,o,a,m,r){try{var s=e[m](r),i=s.value}catch(e){return void n(e)}s.done?t(i):Promise.resolve(i).then(o,a)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var m=e.apply(t,n);function s(e){r(m,o,a,s,i,"next",e)}function i(e){r(m,o,a,s,i,"throw",e)}s(void 0)}))}}const i={props:["value","type","id","em"],data:function(){return{model:[],maker:{}}},computed:{input_val:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},methods:{getModelList:function(){var e=this;return s(a().mark((function t(){var n,o;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.$refs.sch_field.value,!("em_catno"==e.type&&n.split("-").length<3)){t.next=6;break}return Notify.toast("warning","최소 2번째 하이프(-)까지 입력해야 합니다."),t.abrupt("return",!1);case 6:if(!("em_code"==e.type&&n.length<3)){t.next=9;break}return Notify.toast("warning","최소 3자 이상 입력시 검색 가능합니다."),t.abrupt("return",!1);case 9:if(!("em_catno"==e.type&&n.split("-").length>2||"em_code"==e.type&&n.length>2)){t.next=21;break}return t.prev=10,t.next=13,m.Z.get("/api/admin/shop/goods/getModel",{params:{type:e.type,key:n}});case 13:(o=t.sent)&&200===o.status&&(o.data.gd.length?(e.model=o.data.gd,e.maker=o.data.mk):(e.model=[{gm_name:"정보없음"}],e.maker=[])),t.next=21;break;case 17:t.prev=17,t.t0=t.catch(10),Notify.consolePrint(t.t0),Notify.toast("warning",t.t0.response.data.message);case 21:case"end":return t.stop()}}),t,null,[[10,17]])})))()},setModel:function(e){var t=this;return s(a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.model[e]&&"정보없음"!=t.model[e].gm_name&&(t.$set(t.em,"em_gd_id",t.model[e].gm_gd_id),t.$set(t.em,"em_gm_id",t.model[e].gm_id),t.$set(t.em,"em_catno01",t.model[e].gm_catno01),t.$set(t.em,"em_catno02",t.model[e].gm_catno02),t.$set(t.em,"em_catno03",t.model[e].gm_catno03),t.$set(t.em,"em_name",t.model[e].gm_name),t.$set(t.em,"em_catno",t.model[e].gm_catno),t.$set(t.em,"em_code",t.model[e].gm_code),t.$set(t.em,"em_unit",t.model[e].gm_unit),t.$set(t.em,"em_spec",t.model[e].gm_spec),t.$set(t.em,"em_maker",t.maker.mk_name),t.$set(t.em,"em_ea",1),t.$set(t.em,"em_cost_price",t.model[e].gm_price),t.$set(t.em,"em_dc_rate",0),t.$set(t.em,"em_price",t.model[e].gm_price),t.$set(t.em,"em_dlvy_at",t.model[e].gm_dlvy_at),t.$set(t.em,"bundle_dc",t.model[e].bundle_dc),t.$set(t.em,"goods",t.model[0].goods)),t.hide();case 2:case"end":return n.stop()}}),n)})))()},hide:function(){this.model=[],this.maker=[]}}};const l=(0,n(1900).Z)(i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"awesome_p"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.input_val,expression:"input_val"},{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],ref:"sch_field",attrs:{type:"text",required:"",autocomplete:"off",id:e.id,title:"입력 후 엔터 or 버튼"},domProps:{value:e.input_val},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getModelList.apply(null,arguments)},input:function(t){t.target.composing||(e.input_val=t.target.value)}}}),e._v(" "),"em_catno"==e.type?n("label",{attrs:{for:e.id}},[e._v("Cat. No.")]):"em_code"==e.type?n("label",{attrs:{for:e.id}},[e._v("모델명")]):e._e(),e._v(" "),n("b-button",{attrs:{size:"sm"},on:{click:e.getModelList}},[n("b-icon-search")],1),e._v(" "),e.model.length?n("ul",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.hide,expression:"hide"}],staticClass:"list-group autocomplete"},e._l(e.model,(function(t,o){return n("li",{staticClass:"list-group-item",attrs:{href:"#"},on:{click:function(t){return e.setModel(o)}}},[e._v("\n            "+e._s(t.gm_name)),n("br"),e._v(" "),t.gm_catno?n("b-badge",[e._v(e._s(t.gm_catno))]):e._e(),n("br"),e._v(" "),t.gm_code?n("b-badge",[e._v(e._s(t.gm_code))]):e._e(),n("br")],1)})),0):e._e()],1)}),[],!1,null,null,null).exports}}]);