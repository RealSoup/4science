"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9475],{5801:(t,e,a)=>{a.d(e,{Z:()=>o});var s=a(3645),n=a.n(s)()((function(t){return t[1]}));n.push([t.id,"#adm_estimate_show .card .eq_info .col[data-v-0fdc8616]{border:1px solid #ededed;box-shadow:3px 2px 2px 0}#adm_estimate_show .card .eq_info .col div[data-v-0fdc8616]{margin:1rem}#adm_estimate_show .card .eq_info .col div span[data-v-0fdc8616]{margin-right:1rem}#adm_estimate_show .card .eq_info .col div span svg[data-v-0fdc8616]{margin-right:.5rem}#adm_estimate_show .card .eq_info .col div .content[data-v-0fdc8616]{white-space:pre}#adm_estimate_show .gd_box .gd_list[data-v-0fdc8616]:nth-child(2n){background-color:#eaf2ff}#adm_estimate_show .gd_box .gd_list[data-v-0fdc8616]{border-bottom:1px solid #ededed;padding:1rem .3rem}#adm_estimate_show .gd_box .gd_list .em_name[data-v-0fdc8616]{font-size:1rem}#adm_estimate_show .gd_box .gd_list .em_name i[data-v-0fdc8616]{background-color:#71b981;border-radius:1rem;color:#fff;display:inline-block;font-size:.7rem;line-height:1;padding:.2rem .5rem}#adm_estimate_show .gd_box .gd_list .em_name .btn[data-v-0fdc8616]{margin-left:1rem;padding:.1rem .36rem}#adm_estimate_show .gd_box .gd_list .gd_info div[data-v-0fdc8616],#adm_estimate_show .gd_box .op_list .op_info div[data-v-0fdc8616]{color:#999;font-size:.8rem}#adm_estimate_show .gd_box .op_list .op_info div span[data-v-0fdc8616]{display:inline-block;min-width:10rem;text-align:left}#adm_estimate_show .gd_box .op_list .op_info div i[data-v-0fdc8616]{display:inline-block;min-width:5rem}#adm_estimate_show .gd_box .op_list .op_info div i b[data-v-0fdc8616]{display:inline-block;min-width:1.4rem}#adm_estimate_show .gd_box .gd_list>div[data-v-0fdc8616]:nth-child(3){text-align:right}",""]);const o=n},9475:(t,e,a)=>{a.r(e),a.d(e,{default:()=>f});var s=a(7757),n=a.n(s),o=a(4670);function i(t,e,a,s,n,o,i){try{var r=t[o](i),_=r.value}catch(t){return void a(t)}r.done?e(_):Promise.resolve(_).then(s,n)}function r(t){return function(){var e=this,a=arguments;return new Promise((function(s,n){var o=t.apply(e,a);function r(t){i(o,s,n,r,_,"next",t)}function _(t){i(o,s,n,r,_,"throw",t)}r(void 0)}))}}const _={data:function(){return{frm:{file_info:[]}}},methods:{show:function(){var t=this;return r(n().mark((function e(){var a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.get("/api/admin/shop/estimate/".concat(t.$route.params.eq_id));case 3:(a=e.sent)&&200===a.status&&(t.frm=a.data),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),Notify.consolePrint(e.t0),Notify.toast("warning",e.t0.response.data.message);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))()},update:function(){var t=this;return r(n().mark((function e(){var a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.frm=Object.assign({},t.frm,{_method:"PATCH",type:"eq_step"}),e.next=4,o.Z.post("/api/admin/shop/estimate/".concat(t.$route.params.eq_id),t.frm);case 4:(a=e.sent)&&200===a.status?Notify.toast("success","수정 완료"):Notify.toast("warning","수정 실패"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),Notify.consolePrint(e.t0),Notify.toast("warning",e.t0.response.data.message);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()},destroy:function(){var t=this;return r(n().mark((function e(){var a,s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Notify.confirm("삭제","danger");case 2:if(!e.sent){e.next=19;break}return e.prev=4,(a=new FormData).append("_method","DELETE"),a.append("type","req"),e.next=10,o.Z.post("/api/admin/shop/estimate/".concat(t.$route.params.eq_id),a);case 10:(s=e.sent)&&200===s.status&&(Notify.toast("success","견적서 삭제"),t.$router.push({name:"adm_estimate_index"})),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(4),Notify.consolePrint(e.t0),Notify.toast("danger","삭제 실패"),Notify.toast("danger",e.t0.response.data.message);case 19:case"end":return e.stop()}}),e,null,[[4,14]])})))()}},mounted:function(){this.show()}};var c=a(3379),d=a.n(c),m=a(5801),l={insert:"head",singleton:!1};d()(m.Z,l);m.Z.locals;const f=(0,a(1900).Z)(_,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"adm_estimate_show"}},[a("b-card",{staticClass:"shadow sticky-top",attrs:{"body-class":"p-2"}},[a("b-container",[a("b-row",[a("b-col",[a("b-button",{attrs:{variant:"danger",size:"sm"},on:{click:t.destroy}},[a("b-icon",{attrs:{icon:"trash-fill"}}),t._v(" 삭제")],1)],1),t._v(" "),a("b-col",{staticClass:"text-right"},[a("b-input-group",{attrs:{size:"sm"}},[a("b-input-group-prepend",{staticClass:"bg-light btn_group"},[a("b-button",{attrs:{to:{name:"adm_estimate_index"}}},[a("b-icon",{attrs:{icon:"list-ul"}}),t._v(" 목록")],1)],1),t._v(" "),a("b-form-select",{model:{value:t.frm.eq_step,callback:function(e){t.$set(t.frm,"eq_step",e)},expression:"frm.eq_step"}},[a("b-form-select-option",{attrs:{value:"DONOT"}},[t._v("미처리")]),t._v(" "),a("b-form-select-option",{attrs:{value:"DOING"}},[t._v("처리중")]),t._v(" "),a("b-form-select-option",{attrs:{value:"DONE"}},[t._v("처리완료")]),t._v(" "),a("b-form-select-option",{attrs:{value:"CANCEL"}},[t._v("취소")])],1),t._v(" "),a("b-input-group-append",[a("b-button",{attrs:{variant:"warning"},on:{click:t.update}},[a("b-icon",{attrs:{icon:"tools"}}),t._v(" 진행현황 수정")],1),t._v(" "),t.frm.estimate_reply&&t.frm.estimate_reply.length>0?a("b-button",{attrs:{variant:"success",to:{name:"adm_estimate_show_reply",params:{er_id:t.frm.estimate_reply[t.frm.estimate_reply.length-1].er_id}}}},[a("b-icon-newspaper"),t._v(" 견적서 확인\n                            ")],1):a("b-button",{attrs:{variant:"light",to:{name:"adm_estimate_create",query:{eq_id:t.frm.eq_id}}}},[a("b-icon-pencil-square"),t._v(" 견적서 작성\n                            ")],1)],1)],1)],1)],1)],1)],1),t._v(" "),a("b-card",{staticClass:"shadow mt-3"},[a("b-container",[a("b-row",{staticClass:"eq_info"},[a("b-col",[a("div",[a("span",[a("font-awesome-icon",{attrs:{icon:"tags"}}),t._v(t._s(t.frm.eq_id))],1),t._v(" "),a("span",[a("font-awesome-icon",{attrs:{icon:"clock"}}),t._v(t._s(t._f("formatDate")(t.frm.created_at)))],1),t._v(" "),a("span",[a("b-icon-bar-chart-steps"),t._v(" "),"DONOT"===t.frm.eq_step?[t._v("미처리")]:"DOING"===t.frm.eq_step?[t._v("처리중")]:"DONE"===t.frm.eq_step?[t._v("완료")]:"CANCEL"===t.frm.eq_step?[t._v("취소")]:t._e()],2)]),t._v(" "),a("div",[a("span",[a("font-awesome-icon",{attrs:{icon:"user"}}),t._v(t._s(t.frm.eq_name))],1),t._v(" "),a("span",[a("font-awesome-icon",{attrs:{icon:"users"}}),t._v(t._s(t.frm.eq_department))],1)]),t._v(" "),a("div",[a("span",[a("font-awesome-icon",{attrs:{icon:"phone"}}),t._v(t._s(t.frm.eq_tel))],1),t._v(" "),a("span",[a("font-awesome-icon",{attrs:{icon:"mobile-alt"}}),t._v(t._s(t.frm.eq_hp))],1),t._v(" "),a("span",[a("font-awesome-icon",{attrs:{icon:"fax"}}),t._v(t._s(t.frm.eq_fax))],1),t._v(" "),a("span",[a("font-awesome-icon",{attrs:{icon:"at"}}),t._v(t._s(t.frm.eq_email))],1)]),t._v(" "),t.frm.eq_content?a("div",[a("span",{staticClass:"content"},[a("font-awesome-icon",{attrs:{icon:"comment-dots"}}),t._v(t._s(t.frm.eq_content))],1)]):t._e(),t._v(" "),t.frm.file_info.length?a("div",[a("span",[a("b-icon",{attrs:{icon:"file-earmark-arrow-down-fill"}}),t._v(" "),t._l(t.frm.file_info,(function(e,s){return[a("b-button",{staticClass:"mr-2",attrs:{size:"sm",variant:"outline-info"},on:{click:function(a){return t.fileDown(e.path,e.fi_original)}}},[t._v(t._s(e.fi_original))]),t._v(" "),s!=Object.keys(t.frm.file_info).length-1?a("b"):t._e()]}))],2)]):t._e()])],1)],1)],1),t._v(" "),t.frm.estimate_model&&t.frm.estimate_model.length?a("b-card",{staticClass:"shadow mt-3 gd_box",scopedSlots:t._u([{key:"header",fn:function(){return[a("b",[t._v("주문 상품")])]},proxy:!0}],null,!1,680186970)},[t._v(" "),a("b-container",t._l(t.frm.estimate_model,(function(e,s){return a("b-row",{key:e.em_id,staticClass:"gd_list"},[a("b-col",{attrs:{cols:"5"}},[a("div",{staticClass:"text-success em_name"},[t._v("\n                        "+t._s(e.em_name)+"\n                        "),a("b-button",{attrs:{variant:"outline-primary",size:"sm",to:{name:"adm_goods_edit",params:{gd_id:e.em_gd_id}}}},[a("b-icon-link45deg")],1)],1),t._v(" "),a("div",{staticClass:"text-secondary"},[t._v("\n                        "+t._s(e.em_code)+"\n                        [ "+t._s(e.em_catno)+" ]\n                    ")])]),t._v(" "),a("b-col",{staticClass:"gd_info",attrs:{xl:"6",lg:"6"}},[a("div",[t._v("제조사: "+t._s(e.em_maker))]),t._v(" "),a("div",[t._v("사양: "+t._s(e.em_spec))]),t._v(" "),a("div",[t._v("단위: "+t._s(e.em_unit))])]),t._v(" "),a("b-col",[t._v(t._s(t._f("comma")(e.em_ea)))]),t._v(" "),e.estimate_option.length?a("b-col",{staticClass:"op_list row m-0 p-0",attrs:{cols:"12"}},[a("b-col",{staticClass:"op_info text-right",attrs:{"offset-lg":"8"}},[a("b-badge",{staticClass:"float-left",attrs:{variant:"warning"}},[t._v("옵션")]),t._v(" "),t._l(e.estimate_option,(function(e,s){return a("div",{key:e.eo_id},[a("span",[t._v(t._s(e.eo_tit)+": "),a("b",[t._v(t._s(e.eo_name))])]),t._v(" "),a("i",[t._v("수량: "),a("b",[t._v(t._s(e.eo_ea))]),t._v(" 개")])])}))],2)],1):t._e()],1)})),1)],1):t._e()],1)}),[],!1,null,"0fdc8616",null).exports}}]);