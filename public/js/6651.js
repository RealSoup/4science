"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6651],{9988:(e,t,o)=>{o.d(t,{Z:()=>n});var a=o(3645),r=o.n(a)()((function(e){return e[1]}));r.push([e.id,".p_wrap[data-v-2c053ee2]{margin-bottom:2rem}.top .col[data-v-2c053ee2]{align-items:center;display:flex}.top .col.addModel[data-v-2c053ee2]{justify-content:flex-end}.top .col.addModel>div[data-v-2c053ee2]{max-width:10rem;width:100%}.row[data-v-2c053ee2]:not(:last-of-type){border-bottom:1px solid #333}.body[data-v-2c053ee2]:hover{background:#d8f2fd94}.row>div[data-v-2c053ee2]:nth-of-type(3){flex:0 0 15%;max-width:15%}.row>div[data-v-2c053ee2]{font-size:.9rem;padding-bottom:15px;padding-top:15px}.head>div[data-v-2c053ee2]{background:#666;color:#fff;font-weight:700}.body>div[data-v-2c053ee2]:nth-of-type(2){background-color:#7fffd454}.row>div>span[data-v-2c053ee2]:nth-of-type(2){float:right}.row .custom-control[data-v-2c053ee2]{display:inline}.row .custom-control[data-v-2c053ee2] label{font-size:.9rem}.row .custom-control[data-v-2c053ee2] label:after,.row .custom-control[data-v-2c053ee2] label:before{height:1.5rem;left:-1.8rem;top:-.15rem;width:1.5rem}.top .custom-control[data-v-2c053ee2]{margin-right:1rem}.top .custom-control[data-v-2c053ee2] label:after,.top .custom-control[data-v-2c053ee2] label:before{top:0}.row .col span .odm_ea[data-v-2c053ee2]{display:inline-block;min-width:40px;text-align:center;width:30%}.row .col span.req_order_box[data-v-2c053ee2]{display:inline-block;height:1.9rem;min-width:140px;position:relative;width:70%}.row .col span.req_order_box .req_order[data-v-2c053ee2]{height:1.9rem;padding:.1rem .8rem}.row .col span.req_order_box .req_order[data-v-2c053ee2]:focus{background:#fff;height:5rem;left:0;position:absolute;top:0;width:20rem;z-index:1}",""]);const n=r},6651:(e,t,o)=>{o.r(t),o.d(t,{default:()=>u});var a=o(7757),r=o.n(a),n=o(4670);function c(e,t,o,a,r,n,c){try{var s=e[n](c),i=s.value}catch(e){return void o(e)}s.done?t(i):Promise.resolve(i).then(a,r)}function s(e){return function(){var t=this,o=arguments;return new Promise((function(a,r){var n=e.apply(t,o);function s(e){c(n,a,r,s,i,"next",e)}function i(e){c(n,a,r,s,i,"throw",e)}s(void 0)}))}}const i={name:"admShopB2bMerckOrder",components:{ModelSchInput:function(){return o.e(65).then(o.bind(o,65))}},data:function(){return{list:[],indeterminate:!1,all_chk:!1,req_dlvy:""}},methods:{index:function(){var e=this;return s(r().mark((function t(){var o;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.Z.get("/api/admin/shop/b2b_merck/order");case 3:(o=t.sent)&&200===o.status&&(e.list=o.data),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),Notify.consolePrint(t.t0),Notify.toast("warning",t.t0.response.data.message);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))()},chkChange:function(){var e=this.list.filter((function(e){return 1==e.b2b_chk})).length;0===e?(this.indeterminate=!1,this.all_chk=!1):e===this.list.length?(this.indeterminate=!1,this.all_chk=!0):(this.indeterminate=!0,this.all_chk=!1)},toggle_all_chk:function(e){this.list.forEach((function(t){t.b2b_chk=e})),this.indeterminate=!1},order:function(){var e=this;return s(r().mark((function t(){var o,a;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,(o=e.list.filter((function(e){return 1==e.b2b_chk}))).length){t.next=5;break}return Notify.modal("선택하세요"),t.abrupt("return",!1);case 5:return t.next=7,n.Z.post("/api/admin/shop/b2b_merck/orderExe",{list:o,req_dlvy:e.req_dlvy});case 7:(a=t.sent)&&200===a.status&&"success"==a.data.msg&&e.$router.push({name:"adm_b2b_merck_order_result"}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),Notify.consolePrint(t.t0),Notify.toast("warning",t.t0.response.data.message);case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))()},stockCheck:function(e,t){var o=this;return s(r().mark((function a(){var c;return r().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,n.Z.post("/api/admin/shop/b2b_merck/stockCheck",{code:e,ea:t});case 3:(c=a.sent)&&200===c.status&&(o.list=c.data),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(0),Notify.consolePrint(a.t0),Notify.toast("warning",a.t0.response.data.message);case 11:case"end":return a.stop()}}),a,null,[[0,7]])})))()},addModel:function(e){this.list.unshift({b2b_chk:!0,odm_id:0,odm_gm_id:e.gm_id,odm_gm_name:e.gm_name,odm_gm_code:e.gm_code,odm_gm_unit:e.gm_unit,odm_price:e.gm_price,odm_gm_spec:e.gm_spec,odm_ea:1,odm_mk_name:e.mk_name,req_order:null})}},mounted:function(){this.index()}};var d=o(3379),l=o.n(d),_=o(9988),m={insert:"head",singleton:!1};l()(_.Z,m);_.Z.locals;const u=(0,o(1900).Z)(i,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("b-container",{staticClass:"p_wrap"},[o("h3",[e._v("Merck Order List")]),e._v(" "),o("b-row",{staticClass:"top"},[o("b-col",{attrs:{col:"",sm:"12",md:"6"}},[o("b-form-checkbox",{attrs:{indeterminate:e.indeterminate},on:{change:e.toggle_all_chk},model:{value:e.all_chk,callback:function(t){e.all_chk=t},expression:"all_chk"}},[e._v("All")]),e._v(" "),o("b-button",{attrs:{variant:"primary",size:"sm"},on:{click:e.order}},[e._v("선택 발주")])],1),e._v(" "),o("b-col",{staticClass:"addModel",attrs:{col:"",sm:"12",md:"6"}},[o("ModelSchInput",{on:{addModel:e.addModel}})],1)],1),e._v(" "),o("b-row",{staticClass:"head"},[o("b-col",[o("span",[e._v("주문번호")]),o("span",[e._v("제품명")])]),e._v(" "),o("b-col",[o("span",[e._v("모델명")]),o("span",[e._v("판매단위")])]),e._v(" "),o("b-col",[o("span",[e._v("수량")]),o("span",[e._v("가격")])]),e._v(" "),o("b-col",[o("span",[e._v("요청사항")]),o("span",[e._v("Ctrl")])])],1),e._v(" "),e._l(e.list,(function(t){return o("b-row",{key:t.odm_id,staticClass:"body"},[o("b-col",[o("span",[o("b-form-checkbox",{attrs:{name:"b2b_chk"},on:{change:e.chkChange},model:{value:t.b2b_chk,callback:function(o){e.$set(t,"b2b_chk",o)},expression:"row.b2b_chk"}},[e._v("\r\n                    "+e._s(t.odm_od_id)+"\r\n                ")])],1),e._v(" "),o("span",[e._v(e._s(t.odm_gm_name))])]),e._v(" "),o("b-col",[o("span",[e._v(e._s(t.odm_gm_code))]),e._v(" "),o("span",[e._v(e._s(t.odm_gm_unit))])]),e._v(" "),o("b-col",[o("span",[o("b-form-input",{staticClass:"odm_ea",attrs:{size:"sm"},model:{value:t.odm_ea,callback:function(o){e.$set(t,"odm_ea",o)},expression:"row.odm_ea"}})],1),e._v(" "),o("span",[e._v(e._s(e._f("comma")(t.odm_price))+" 원")])]),e._v(" "),o("b-col",[o("span",{staticClass:"req_order_box"},[o("b-form-textarea",{staticClass:"req_order",attrs:{placeholder:"주문시 요청사항 입력"},model:{value:t.req_order,callback:function(o){e.$set(t,"req_order",o)},expression:"row.req_order"}})],1),e._v(" "),o("span",[o("b-button",{attrs:{size:"sm"},on:{click:function(o){return e.stockCheck(t.odm_gm_code,t.odm_ea)}}},[e._v("재고 체크")])],1)])],1)})),e._v(" "),o("b-row",[o("b-col",[o("b-form-textarea",{attrs:{placeholder:"배송시 요청사항 입력"},model:{value:e.req_dlvy,callback:function(t){e.req_dlvy=t},expression:"req_dlvy"}})],1)],1)],2)}),[],!1,null,"2c053ee2",null).exports}}]);