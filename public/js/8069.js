"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8069],{63158:(t,e,o)=>{o.d(e,{Z:()=>n});var a=o(23645),r=o.n(a)()((function(t){return t[1]}));r.push([t.id,'.sum_up[data-v-6dc08b19]{border-top:3px solid #4f637b}.sum_up .total[data-v-6dc08b19]{border-bottom:1px solid #d6d6d6}.sum_up .total .col[data-v-6dc08b19]{color:#000;font-weight:700;padding:1rem .5rem}.sum_up .total .col b[data-v-6dc08b19]{font-size:1.4rem}.sum_up .total .col[data-v-6dc08b19]:nth-of-type(odd){align-items:center;display:flex;padding-left:2rem}.sum_up .total .col[data-v-6dc08b19]:nth-of-type(2n){padding-right:2rem;text-align:right}.sum_up .total .col[data-v-6dc08b19]:nth-of-type(2){border-right:1px solid #d6d6d6}.sum_up .total .col[data-v-6dc08b19]:nth-of-type(4):after{background:#707070;border-radius:13px;color:#fff;font-size:1.4rem;height:25px;line-height:1.2;position:absolute;right:-14px;text-align:center;top:19px;width:25px}.sum_up .total .col[data-v-6dc08b19]:nth-of-type(2):after{content:"+"}.sum_up .total .col[data-v-6dc08b19]:nth-of-type(4){border-right:1px solid #d6d6d6}.sum_up .total .col[data-v-6dc08b19]:nth-of-type(4):after{content:"="}.sum_up .total .col[data-v-6dc08b19]:nth-of-type(5),.sum_up .total .col[data-v-6dc08b19]:nth-of-type(6){flex-basis:19.5%;max-width:19.5%}.sum_up .total_sub[data-v-6dc08b19]{background:#f2f3f5;border-bottom-width:0}.sum_up .total_sub>.col[data-v-6dc08b19]:first-of-type,.sum_up .total_sub>.col[data-v-6dc08b19]:nth-of-type(2){border-right:1px solid #d6d6d6}.sum_up .total_sub>.col[data-v-6dc08b19]:nth-of-type(3){flex-basis:39%;max-width:39%}.sum_up .total_sub .col>div[data-v-6dc08b19]{display:flex;flex-wrap:wrap}.sum_up .total_sub .col>div[data-v-6dc08b19]:first-of-type{padding:1.3rem 1rem .5rem}.sum_up .total_sub .col>div[data-v-6dc08b19]:nth-of-type(2){padding:0 1rem 2.5rem}.sum_up .total_sub .col>div .col[data-v-6dc08b19]{color:#a8a9ab;font-size:.84rem;font-weight:700}.sum_up .total_sub .col>div .col[data-v-6dc08b19]:nth-of-type(2){text-align:right}.estimate_show .goods>.row[data-v-6dc08b19]{border-bottom:1px solid #ddd;margin-bottom:1rem;padding-bottom:1rem}.estimate_show .goods>.row>div img[data-v-6dc08b19]{height:100px;-o-object-fit:cover;object-fit:cover;width:100px}.estimate_show .goods>.row>div:nth-child(2) .btn[data-v-6dc08b19]{text-align:left}.estimate_show .goods>.row>div[data-v-6dc08b19]:nth-child(3){text-align:right}.estimate_show .goods>.row>div:nth-child(3) .md_multi[data-v-6dc08b19]{display:inline-block;min-width:120px}.estimate_show .price .row div[data-v-6dc08b19]{text-align:right}.estimate_show .price .row div b[data-v-6dc08b19]{display:inline-block;min-width:200px}.estimate_show .container[data-v-6dc08b19]{margin-bottom:2rem}.custom-control.image-checkbox[data-v-6dc08b19]{padding-left:0;position:relative}.custom-control.image-checkbox .custom-control-input:checked~.custom-control-label[data-v-6dc08b19]:after,.custom-control.image-checkbox .custom-control-input:checked~.custom-control-label[data-v-6dc08b19]:before{opacity:1}.custom-control-input:checked~.custom-control-label[data-v-6dc08b19]:before{background-color:#007bff;border-color:#007bff;color:#fff}.custom-control.image-checkbox label[data-v-6dc08b19]:after,.custom-control.image-checkbox label[data-v-6dc08b19]:before{left:.25rem;opacity:0;transition:opacity .3s ease}.custom-control.image-checkbox label[data-v-6dc08b19]:focus,.custom-control.image-checkbox label[data-v-6dc08b19]:hover{opacity:.8}.custom-control.image-checkbox label img[data-v-6dc08b19]{border-radius:2.5px}.custom-control-label[data-v-6dc08b19]:after,.custom-control-label[data-v-6dc08b19]:before{height:1.5rem;width:1.5rem}',""]);const n=r},58069:(t,e,o)=>{o.r(e),o.d(e,{default:()=>v});var a=o(87757),r=o.n(a),n=o(44670);function c(t,e){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!o){if(Array.isArray(t)||(o=function(t,e){if(!t)return;if("string"==typeof t)return i(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return i(t,e)}(t))||e&&t&&"number"==typeof t.length){o&&(t=o);var a=0,r=function(){};return{s:r,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,c=!0,l=!1;return{s:function(){o=o.call(t)},n:function(){var t=o.next();return c=t.done,t},e:function(t){l=!0,n=t},f:function(){try{c||null==o.return||o.return()}finally{if(l)throw n}}}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,a=new Array(e);o<e;o++)a[o]=t[o];return a}function l(t,e,o,a,r,n,c){try{var i=t[n](c),l=i.value}catch(t){return void o(t)}i.done?e(l):Promise.resolve(l).then(a,r)}function s(t){return function(){var e=this,o=arguments;return new Promise((function(a,r){var n=t.apply(e,o);function c(t){l(n,a,r,c,i,"next",t)}function i(t){l(n,a,r,c,i,"throw",t)}c(void 0)}))}}const _={name:"mypageEstimateReplyShow",components:{LoadingModal:function(){return o.e(7176).then(o.bind(o,17176))}},data:function(){return{isLoadingModalViewed:!0,reply:{},gd_price:0,surtax:0,dlvy_price:0,air_price:0,all_price:0}},computed:{dlvy_4s:function(){return this.reply.order_purchase_at.hasOwnProperty(0)?this.od.order_purchase_at[0].odpa_dlvy_p_add_vat:0},dlvy_other:function(){return Object.values(this.od.order_purchase_at).reduce((function(t,e){return t+(""!=e.odpa_pa_name?e.odpa_dlvy_p_add_vat:0)}),0)},sum_mileage:function(){return Math.round(this.od.od_gd_price*Auth.user().my_mileage_rate/100)}},methods:{show:function(){var t=this;return s(r().mark((function e(){var o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.Z.get("/api/shop/estimate/reply/".concat(t.$route.params.er_id));case 3:(o=e.sent)&&200===o.status&&(t.reply=o.data,t.gd_price=o.data.er_gd_price,t.surtax=o.data.er_surtax,t.dlvy_price=o.data.er_dlvy_price,t.air_price=o.data.er_air_price,t.all_price=o.data.er_all_price,t.isLoadingModalViewed=!1),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),Notify.consolePrint(e.t0),Notify.toast("warning",e.t0.response.data.message);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))()},settle:function(){var t,e=[],o=c(this.reply.estimate_model);try{for(o.s();!(t=o.n()).done;){var a=t.value;if(a.em_ea>0&&"Y"==a.em_check_opt&&e.push({gd_id:a.em_gd_id,em_id:a.em_id}),a.hasOwnProperty("estimate_option")){var r,n=c(a.estimate_option);try{for(n.s();!(r=n.n()).done;){var i=r.value;i.eo_ea>0&&"Y"==i.eo_check_opt&&e.push({gd_id:i.eo_gd_id,eo_id:i.eo_id})}}catch(t){n.e(t)}finally{n.f()}}}}catch(t){o.e(t)}finally{o.f()}if(!e.length)return Notify.modal("모델을 선택하세요","info"),!1;this.$router.push({name:"order_settle",params:{od_goods:e,od_type:"buy_estimate",od_er_id:this.$route.params.er_id}})},reEstimate:function(){var t=this;return s(r().mark((function e(){var o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$refs.observer.validate();case 2:if(!e.sent){e.next=17;break}return e.prev=4,e.next=7,n.Z.post("/api/shop/estimate/reEstimate",t.reply);case 7:(o=e.sent)&&200===o.status?(console.log(o),Notify.toast("success","견적 요청 완료")):Notify.toast("warning",o),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),Notify.consolePrint(e.t0),Notify.toast("warning",e.t0.responsee);case 15:e.next=18;break;case 17:document.getElementById("eq_content").focus();case 18:case"end":return e.stop()}}),e,null,[[4,11]])})))()},print:function(){var t="/api/shop/estimate/printEstimate/".concat(this.$route.params.er_id);window.open(t,"견적서 인쇄","width = 900, height = 900, top = 10, left = 10, location = no")},calculator:function(){var t=priceCalculator(this.reply.estimate_model);this.gd_price=t.gd_price,this.surtax=t.surtax,this.dlvy_price=t.dlvy_price,this.air_price=t.air_price,this.all_price=t.all_price},getValidationState:function(t){var e=t.dirty,o=t.validated,a=t.valid;return e||o?void 0===a?null:a:null},chkChange:function(){var t=this.ledger.data.filter((function(t){return 1==t.chk_cplt})).length;0===t?(this.indeterminate=!1,this.allSelected=!1):t===this.ledger.data.length?(this.indeterminate=!1,this.allSelected=!0):(this.indeterminate=!0,this.allSelected=!1),this.calculator()},toggle_all_chk:function(t){this.ledger.data.forEach((function(e){e.chk_cplt=!!t})),this.indeterminate=!1}},mounted:function(){this.show()}};var d=o(93379),u=o.n(d),m=o(63158),p={insert:"head",singleton:!1};u()(m.Z,p);m.Z.locals;const v=(0,o(51900).Z)(_,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("b-container",{staticClass:"w_fence"},[o("h3",[t._v("견적서 조회 "),o("b",[t._v("Q-"+t._s(t.reply.er_id))])]),t._v(" "),o("ValidationObserver",{ref:"observer",staticClass:"estimate_show",attrs:{tag:"form"},scopedSlots:t._u([{key:"default",fn:function(e){e.invalid;return[t.isLoadingModalViewed?o("LoadingModal",{attrs:{position:"absolute"},on:{"close-modal":function(e){t.isLoadingModalViewed=!1}}},[t._v("\r\n            Loading ......\r\n        ")]):o("div",[o("b-container",{staticClass:"top"},[o("b-row",[o("b-col",[o("span",[t._v("견적일자")]),t._v(" "),o("b",[t._v(t._s(t._f("formatDate_YYYY_MM_DD")(t.reply.created_at)))])]),t._v(" "),o("b-col",[o("span",[t._v("유효기간")]),t._v(" "),o("b",[t._v(t._s(t._f("formatDate_YYYY_MM_DD")(t.reply.er_effective_at)))])]),t._v(" "),o("b-col",[o("span",[t._v("납품기일")]),t._v(" "),o("b",[t._v(t._s(t._f("formatDate_YYYY_MM_DD")(t.reply.er_dlvy_at)))])]),t._v(" "),o("b-col",[o("span",[t._v("담당자/문의")]),t._v("\r\n                        "+t._s(t.reply.user.name)+"  \r\n                        "+t._s(t.reply.user.tel)+"  \r\n                        "+t._s(t.reply.user.email)+"\r\n                    ")])],1)],1),t._v(" "),o("b-container",{staticClass:"goods"},[o("b-row",[o("b-col",[o("b-form-checkbox",{staticClass:"myCheck",attrs:{indeterminate:t.indeterminate},on:{change:t.toggle_all_chk},model:{value:t.all_chk,callback:function(e){t.all_chk=e},expression:"all_chk"}})],1),t._v(" "),o("b-col"),t._v(" "),o("b-col",[t._v("상품명 / 모델명")]),t._v(" "),o("b-col",[t._v("판매가격")]),t._v(" "),o("b-col",[t._v("수량")]),t._v(" "),o("b-col",[t._v("합계")])],1),t._v(" "),t._l(t.reply.estimate_model,(function(e){return o("b-row",{key:e.em_id},[o("b-col",[o("b-form-checkbox",{staticClass:"myCheck",attrs:{value:"Y","unchecked-value":"N"},on:{change:t.chkChange},model:{value:e.em_check_opt,callback:function(o){t.$set(e,"em_check_opt",o)},expression:"em.em_check_opt"}})],1),t._v(" "),o("b-col",[e.em_gd_id?o("b-link",{attrs:{to:{name:"goods_show",params:{gd_id:e.em_gd_id}}}},[o("img",{staticClass:"img-fluid",attrs:{src:e.goods.image_src_thumb[0]}})]):o("img",{staticClass:"img-fluid",attrs:{src:e.goods.image_src_thumb[0]}})],1),t._v(" "),o("b-col",[e.em_gd_id?o("b-link",{attrs:{to:{name:"goods_show",params:{gd_id:e.em_gd_id}}}},[o("b",[t._v(t._s(e.em_name))]),t._v(" "),o("p",[t._v("\r\n                                모델명: "+t._s(e.em_code)+" / Cat.No.: "+t._s(e.em_catno)),o("br"),t._v("\r\n                                사양: "+t._s(e.em_spec)),o("br"),t._v("\r\n                                판매단위: "+t._s(e.em_unit)+"\r\n                            ")])]):o("div",[t._v("\r\n                            "+t._s(e.em_name)+"\r\n                            "),o("p",[t._v("\r\n                                모델명: "+t._s(e.em_code)+" / Cat.No.: "+t._s(e.em_catno)),o("br"),t._v("\r\n                                사양: "+t._s(e.em_spec)),o("br"),t._v("\r\n                                판매단위: "+t._s(e.em_unit)+"\r\n                            ")])])],1),t._v(" "),o("b-col",[t._v(t._s(t._f("won")(t._f("comma")(t._f("rrp")(e.em_price)))))]),t._v(" "),o("b-col",[t._v(t._s(e.em_ea))]),t._v(" "),o("b-col",[t._v(t._s(t._f("won")(t._f("comma")(t._f("rrp")(e.em_price*e.em_ea)))))]),t._v(" "),e.estimate_option.length?t._l(e.estimate_option,(function(e){return o("b-col",{key:e.eo_id,attrs:{cols:"12"}},[o("b-col"),t._v(" "),o("b-col",[t._v("추가 옵션")]),t._v(" "),o("b-col",[t._v(t._s(e.eo_tit)+":"+t._s(e.eo_name))]),t._v(" "),o("b-col",[t._v(t._s(t._f("won")(t._f("comma")(t._f("rrp")(e.eo_price)))))]),t._v(" "),o("b-col",[t._v(t._s(e.eo_ea))]),t._v(" "),o("b-col",[t._v(t._s(t._f("won")(t._f("comma")(t._f("rrp")(e.eo_price*e.eo_ea)))))])],1)})):t._e()],2)}))],2),t._v(" "),o("b-container",{staticClass:"sum_up"},[o("b-row",{staticClass:"total"},[o("b-col",[t._v("상품금액")]),t._v(" "),o("b-col",[o("b",[t._v(t._s(t._f("won")(t._f("comma")(t.reply.er_gd_price+t.reply.er_surtax))))])]),t._v(" "),o("b-col",[t._v("배송료")]),t._v(" "),o("b-col",[o("b",[t._v(t._s(t._f("won")(t._f("comma")(t.reply.er_dlvy_price))))])]),t._v(" "),o("b-col",[t._v("결제 예정 금액")]),t._v(" "),o("b-col",[o("b",[t._v(t._s(t._f("won")(t._f("comma")(t.reply.er_all_price))))])])],1),t._v(" "),o("b-row",{staticClass:"total_sub"},[o("b-col",[o("div",[o("b-col",[t._v("상품가")]),o("b-col",[t._v(t._s(t._f("won")(t._f("comma")(t.reply.er_gd_price))))])],1),t._v(" "),o("div",[o("b-col",[t._v("부가세")]),o("b-col",[t._v(t._s(t._f("won")(t._f("comma")(t.reply.er_surtax))))])],1)]),t._v(" "),o("b-col",[o("div",[o("b-col",[t._v("포사이언스 배송")]),o("b-col",[t._v(t._s(t._f("comma")(t.dlvy_4s)))])],1),t._v(" "),o("div",[o("b-col",[t._v("업체 배송")]),o("b-col",[t._v(t._s(t._f("comma")(t.dlvy_other)))])],1)]),t._v(" "),o("b-col",[o("div",[o("b-col",[t._v("적립예정 마일리지")]),o("b-col",[t._v(t._s(t._f("comma")(t.sum_mileage)))])],1)])],1)],1),t._v(" "),o("b-container",[o("b-row",[o("b-col",{attrs:{cols:"2"}},[t._v("추가정보 :")]),t._v(" "),o("b-col",{domProps:{innerHTML:t._s(t.reply.er_content)}})],1)],1),t._v(" "),o("b-container",[o("b-row",[o("b-col",[o("validation-provider",{attrs:{name:"견적 요청 내용",rules:"required|min:1"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("b-form-group",{attrs:{label:"재견적 요청 내용","label-for":"eq_content","label-class":"required"}},[o("b-form-textarea",{attrs:{id:"eq_content",placeholder:"재견적 요청 내용...",rows:"3",state:t.getValidationState(e)},model:{value:t.reply.eq_content,callback:function(e){t.$set(t.reply,"eq_content",e)},expression:"reply.eq_content"}}),t._v(" "),o("b-form-invalid-feedback",[t._v(t._s(e.errors[0]))])],1)]}}])})],1)],1)],1)],1)]}}])})],1)}),[],!1,null,"6dc08b19",null).exports}}]);