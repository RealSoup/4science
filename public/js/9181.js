"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9181],{8035:(t,e,a)=>{a.d(e,{Z:()=>o});var r=a(3645),n=a.n(r)()((function(t){return t[1]}));n.push([t.id,".p_warp[data-v-394ab574]{margin-bottom:2rem}.top .col[data-v-394ab574]{align-items:center;display:flex}.list[data-v-394ab574]:not(:last-of-type){border-bottom:1px solid #333}.body[data-v-394ab574]:hover{background:#d8f2fd94}.list>div[data-v-394ab574]:nth-of-type(3){flex:0 0 15%;max-width:15%}.list>div[data-v-394ab574]{padding-bottom:15px;padding-top:15px}.head>div[data-v-394ab574]{background:#666;color:#fff;font-weight:700}.body>div[data-v-394ab574]:nth-of-type(2){background-color:#7fffd454}.list>div[data-v-394ab574]{font-size:.9rem}.list>div>span[data-v-394ab574]:nth-of-type(2){float:right}.row .custom-control[data-v-394ab574]{display:inline}.list .custom-control[data-v-394ab574] label{font-size:.9rem}.row .custom-control[data-v-394ab574] label:after,.row .custom-control[data-v-394ab574] label:before{height:1.5rem;left:-1.8rem;top:-.15rem;width:1.5rem}.top .custom-control[data-v-394ab574]{margin-right:1rem}.top .custom-control[data-v-394ab574] label:after,.top .custom-control[data-v-394ab574] label:before{top:0}.list .col span .odm_ea[data-v-394ab574]{display:inline-block;min-width:40px;text-align:center;width:30%}.list .col span.req_order_box[data-v-394ab574]{display:inline-block;height:1.9rem;min-width:140px;position:relative;width:70%}.list .col span.req_order_box .req_order[data-v-394ab574]{height:1.9rem;padding:.1rem .8rem}.list .col span.req_order_box .req_order[data-v-394ab574]:focus{background:#fff;height:5rem;left:0;position:absolute;top:0;width:20rem;z-index:1}",""]);const o=n},9181:(t,e,a)=>{a.r(e),a.d(e,{default:()=>v});var r=a(7757),n=a.n(r),o=a(4670);function s(t,e,a,r,n,o,s){try{var i=t[o](s),c=i.value}catch(t){return void a(t)}i.done?e(c):Promise.resolve(c).then(r,n)}function i(t){return function(){var e=this,a=arguments;return new Promise((function(r,n){var o=t.apply(e,a);function i(t){s(o,r,n,i,c,"next",t)}function c(t){s(o,r,n,i,c,"throw",t)}i(void 0)}))}}const c={name:"admShopB2bMerckOrder",data:function(){return{list:[],indeterminate:!1,all_chk:!1,req_dlvy:""}},methods:{index:function(){var t=this;return i(n().mark((function e(){var a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.get("/api/admin/shop/b2b_merck/order");case 3:(a=e.sent)&&200===a.status&&(t.list=a.data),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),Notify.consolePrint(e.t0),Notify.toast("warning",e.t0.response.data.message);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))()},chkChange:function(){var t=this.list.filter((function(t){return 1==t.b2b_chk})).length;0===t?(this.indeterminate=!1,this.all_chk=!1):t===this.list.length?(this.indeterminate=!1,this.all_chk=!0):(this.indeterminate=!0,this.all_chk=!1)},toggle_all_chk:function(t){this.list.forEach((function(e){e.b2b_chk=t})),this.indeterminate=!1},order:function(){var t=this;return i(n().mark((function e(){var a,r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,(a=t.list.filter((function(t){return 1==t.b2b_chk}))).length){e.next=5;break}return Notify.modal("선택하세요"),e.abrupt("return",!1);case 5:return e.next=7,o.Z.post("/api/admin/shop/b2b_merck/orderExe",{list:a,req_dlvy:t.req_dlvy});case 7:(r=e.sent)&&200===r.status&&"success"==r.data.msg&&t.$router.push({name:"adm_b2b_merck_order_result"}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),Notify.consolePrint(e.t0),Notify.toast("warning",e.t0.response.data.message);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))()},stockCheck:function(t,e){var a=this;return i(n().mark((function r(){var s;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,o.Z.post("/api/admin/shop/b2b_merck/stockCheck",{code:t,ea:e});case 3:(s=r.sent)&&200===s.status&&(a.list=s.data),r.next=11;break;case 7:r.prev=7,r.t0=r.catch(0),Notify.consolePrint(r.t0),Notify.toast("warning",r.t0.response.data.message);case 11:case"end":return r.stop()}}),r,null,[[0,7]])})))()}},mounted:function(){this.index()}};var l=a(3379),d=a.n(l),b=a(8035),_={insert:"head",singleton:!1};d()(b.Z,_);b.Z.locals;const v=(0,a(1900).Z)(c,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{staticClass:"p_warp"},[a("h3",[t._v("Merck Order List")]),t._v(" "),a("b-row",{staticClass:"top"},[a("b-col",{attrs:{col:"",sm:"12",md:"6"}},[a("b-form-checkbox",{attrs:{indeterminate:t.indeterminate},on:{change:t.toggle_all_chk},model:{value:t.all_chk,callback:function(e){t.all_chk=e},expression:"all_chk"}},[t._v("All")]),t._v(" "),a("b-button",{attrs:{variant:"primary",size:"sm"},on:{click:t.order}},[t._v("선택 발주")])],1),t._v(" "),a("b-col",{staticClass:"text-right",attrs:{col:"",sm:"12",md:"6"}},[a("b-button",{attrs:{to:{name:"adm_goods_create"},variant:"info",size:"sm"}},[a("b-icon-plus-lg"),t._v(" 추가")],1)],1)],1),t._v(" "),a("div",[a("b-form-textarea",{attrs:{placeholder:"배송시 요청사항 입력"},model:{value:t.req_dlvy,callback:function(e){t.req_dlvy=e},expression:"req_dlvy"}})],1),t._v(" "),a("b-row",{staticClass:"list head"},[a("b-col",[a("span",[t._v("주문번호")]),a("span",[t._v("제품명")])]),t._v(" "),a("b-col",[a("span",[t._v("모델명")]),a("span",[t._v("판매단위")])]),t._v(" "),a("b-col",[a("span",[t._v("수량")]),a("span",[t._v("가격")])]),t._v(" "),a("b-col",[a("span",[t._v("요청사항")]),a("span",[t._v("Ctrl")])])],1),t._v(" "),t._l(t.list,(function(e){return a("b-row",{key:e.odm_id,staticClass:"list body"},[a("b-col",[a("span",[a("b-form-checkbox",{attrs:{name:"b2b_chk"},on:{change:t.chkChange},model:{value:e.b2b_chk,callback:function(a){t.$set(e,"b2b_chk",a)},expression:"row.b2b_chk"}},[t._v("\r\n                    "+t._s(e.odm_od_id)+"\r\n                ")])],1),t._v(" "),a("span",[t._v(t._s(e.odm_gm_name))])]),t._v(" "),a("b-col",[a("span",[t._v(t._s(e.odm_gm_code))]),t._v(" "),a("span",[t._v(t._s(e.odm_gm_unit))])]),t._v(" "),a("b-col",[a("span",[a("b-form-input",{staticClass:"odm_ea",attrs:{size:"sm"},model:{value:e.odm_ea,callback:function(a){t.$set(e,"odm_ea",a)},expression:"row.odm_ea"}})],1),t._v(" "),a("span",[t._v(t._s(t._f("comma")(e.odm_price))+" 원")])]),t._v(" "),a("b-col",[a("span",{staticClass:"req_order_box"},[a("b-form-textarea",{staticClass:"req_order",attrs:{placeholder:"주문시 요청사항 입력"},model:{value:e.req_order,callback:function(a){t.$set(e,"req_order",a)},expression:"row.req_order"}})],1),t._v(" "),a("span",[a("b-button",{attrs:{size:"sm"},on:{click:function(a){return t.stockCheck(e.odm_gm_code,e.odm_ea)}}},[t._v("재고 체크")])],1)])],1)}))],2)}),[],!1,null,"394ab574",null).exports}}]);