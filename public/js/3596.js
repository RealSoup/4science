"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3596],{80070:(e,t,a)=>{a.d(t,{Z:()=>s});var r=a(23645),n=a.n(r)()((function(e){return e[1]}));n.push([e.id,".p_wrap .row[data-v-56a274a2]{border-bottom:2px solid #666;margin:.5rem 0}.p_wrap .row .col[data-v-56a274a2]{margin-bottom:.2rem}.p_wrap .row .col[data-v-56a274a2]:first-child{flex:0 0 30%;max-width:30%}.p_wrap .row .col[data-v-56a274a2]:nth-child(2){flex:0 0 20%;max-width:20%}.p_wrap .row .col[data-v-56a274a2]:nth-child(3){flex:0 0 30%;max-width:30%}.p_wrap .row .col[data-v-56a274a2]:nth-child(4){flex:0 0 20%;max-width:20%}.p_wrap .row .col[data-v-56a274a2]:nth-child(5){flex:0 0 60%;max-width:60%}.p_wrap .row .col[data-v-56a274a2]:nth-child(6){flex:0 0 40%;max-width:40%}.p_wrap .row .col[data-v-56a274a2]:nth-child(7){flex:0 0 100%;max-width:100%;padding-bottom:.5rem}.input-group-sm .input-group-prepend .input-group-text[data-v-56a274a2]{padding:.15rem .5rem}",""]);const s=n},43596:(e,t,a)=>{a.r(t),a.d(t,{default:()=>f});var r=a(87757),n=a.n(r),s=a(44670);function i(e,t,a,r,n,s,i){try{var o=e[s](i),u=o.value}catch(e){return void a(e)}o.done?t(u):Promise.resolve(u).then(r,n)}function o(e){return function(){var t=this,a=arguments;return new Promise((function(r,n){var s=e.apply(t,a);function o(e){i(s,r,n,o,u,"next",e)}function u(e){i(s,r,n,o,u,"throw",e)}o(void 0)}))}}const u={name:"AdmUserEditAddress",data:function(){return{frm:{ua_key:this.$route.params.id},address:[]}},methods:{frm_inint:function(){this.$delete(this.frm,"ua_def"),this.$delete(this.frm,"ua_title"),this.$delete(this.frm,"ua_zip"),this.$delete(this.frm,"ua_hp"),this.$delete(this.frm,"ua_addr1"),this.$delete(this.frm,"ua_addr2"),this.$delete(this.frm,"ua_memo")},index:function(){var e=this;return o(n().mark((function t(){var a;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.Z.get("/api/admin/user/indesAddr/".concat(e.$route.params.id));case 2:(a=t.sent)&&200===a.status&&(e.address=a.data,e.frm_inint());case 4:case"end":return t.stop()}}),t)})))()},store:function(){var e=this;return o(n().mark((function t(){var a;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.Z.post("/api/admin/user/storeAddr",e.frm);case 2:(a=t.sent)&&200===a.status&&(Notify.toast("success","배송지 추가"),e.index());case 4:case"end":return t.stop()}}),t)})))()},update:function(e){var t=this;return o(n().mark((function a(){var r,i;return n().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r=!0,t.address.forEach((function(e){"Y"==e.ua_def&&(r=!1)})),!r){a.next=5;break}return Notify.modal("기본 배송지가 없습니다."),a.abrupt("return",!1);case 5:return a.next=7,s.Z.post("/api/admin/user/updateAddr",t.address[e]);case 7:(i=a.sent)&&200===i.status&&(Notify.toast("success","배송지 수정"),t.index());case 9:case"end":return a.stop()}}),a)})))()},destroy:function(e){var t=this;return o(n().mark((function a(){var r;return n().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if("Y"!=t.address[e].ua_def){a.next=3;break}return Notify.modal("기본 배송지는 삭제 할 수 없습니다."),a.abrupt("return",!1);case 3:return a.next=5,Notify.confirm("삭제","danger");case 5:if(!a.sent){a.next=11;break}return a.next=9,s.Z.get("/api/admin/user/destroyAddr/".concat(t.address[e].ua_id));case 9:(r=a.sent)&&200===r.status&&(Notify.toast("success","배송지 삭제"),t.$delete(t.address,e),t.index());case 11:case"end":return a.stop()}}),a)})))()},uniqueCheck:function(e){if("Y"==this.address[e].ua_def)for(var t in this.address)e!=t&&(this.address[t].ua_def="N")},frm_formatHp:function(e){return this.formatHp(e)}},mounted:function(){this.index()}};var d=a(93379),c=a.n(d),l=a(80070),m={insert:"head",singleton:!1};c()(l.Z,m);l.Z.locals;const f=(0,a(51900).Z)(u,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{staticClass:"p_wrap"},[a("b-row",[a("b-col",[a("b-input-group",{attrs:{size:"sm"}},[a("b-input-group-prepend",{attrs:{"is-text":""}},[a("b-form-checkbox",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip",value:"기본 배송지",expression:"'기본 배송지'"}],attrs:{value:"Y","unchecked-value":"N",size:"sm"},model:{value:e.frm.ua_def,callback:function(t){e.$set(e.frm,"ua_def",t)},expression:"frm.ua_def"}})],1),e._v(" "),a("b-form-input",{attrs:{size:"sm",placeholder:"배송지명"},model:{value:e.frm.ua_title,callback:function(t){e.$set(e.frm,"ua_title",t)},expression:"frm.ua_title"}})],1)],1),e._v(" "),a("b-col",[a("b-form-input",{attrs:{size:"sm",maxlength:"5",placeholder:"우편번호"},model:{value:e.frm.ua_zip,callback:function(t){e.$set(e.frm,"ua_zip",t)},expression:"frm.ua_zip"}})],1),e._v(" "),a("b-col",[a("b-form-input",{attrs:{size:"sm",placeholder:"HP",formatter:e.frm_formatHp},model:{value:e.frm.ua_hp,callback:function(t){e.$set(e.frm,"ua_hp",t)},expression:"frm.ua_hp"}})],1),e._v(" "),a("b-col",[a("b-button",{staticClass:"xm",attrs:{variant:"primary"},on:{click:function(t){return e.store(e.i)}}},[e._v("추가")])],1),e._v(" "),a("b-col",[a("b-form-input",{attrs:{size:"sm",placeholder:"도로명"},model:{value:e.frm.ua_addr1,callback:function(t){e.$set(e.frm,"ua_addr1",t)},expression:"frm.ua_addr1"}})],1),e._v(" "),a("b-col",[a("b-form-input",{attrs:{size:"sm",placeholder:"상세"},model:{value:e.frm.ua_addr2,callback:function(t){e.$set(e.frm,"ua_addr2",t)},expression:"frm.ua_addr2"}})],1),e._v(" "),a("b-col",[a("b-form-input",{attrs:{size:"sm",placeholder:"배송시 요청사항"},model:{value:e.frm.ua_memo,callback:function(t){e.$set(e.frm,"ua_memo",t)},expression:"frm.ua_memo"}})],1)],1),e._v(" "),e._l(e.address,(function(t,r){return a("b-row",{key:t.ua_id},[a("b-col",[a("b-input-group",{attrs:{size:"sm"}},[a("b-input-group-prepend",{attrs:{"is-text":""}},[a("b-form-checkbox",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip",value:"기본 배송지",expression:"'기본 배송지'"}],attrs:{value:"Y","unchecked-value":"N",size:"sm"},on:{change:function(t){return e.uniqueCheck(r)}},model:{value:t.ua_def,callback:function(a){e.$set(t,"ua_def",a)},expression:"addr.ua_def"}})],1),e._v(" "),a("b-form-input",{attrs:{size:"sm",placeholder:"배송지명"},model:{value:t.ua_title,callback:function(a){e.$set(t,"ua_title",a)},expression:"addr.ua_title"}})],1)],1),e._v(" "),a("b-col",[a("b-form-input",{attrs:{size:"sm",maxlength:"5",placeholder:"우편번호"},model:{value:t.ua_zip,callback:function(a){e.$set(t,"ua_zip",a)},expression:"addr.ua_zip"}})],1),e._v(" "),a("b-col",[a("b-form-input",{attrs:{size:"sm",placeholder:"HP",formatter:e.frm_formatHp},model:{value:t.ua_hp,callback:function(a){e.$set(t,"ua_hp",a)},expression:"addr.ua_hp"}})],1),e._v(" "),a("b-col",[a("b-button",{staticClass:"xm",attrs:{variant:"danger"},on:{click:function(t){return e.destroy(r)}}},[e._v("삭제")]),e._v(" "),a("b-button",{staticClass:"xm",attrs:{variant:"warning"},on:{click:function(t){return e.update(r)}}},[e._v("수정")])],1),e._v(" "),a("b-col",[a("b-form-input",{attrs:{size:"sm",placeholder:"도로명"},model:{value:t.ua_addr1,callback:function(a){e.$set(t,"ua_addr1",a)},expression:"addr.ua_addr1"}})],1),e._v(" "),a("b-col",[a("b-form-input",{attrs:{size:"sm",placeholder:"상세"},model:{value:t.ua_addr2,callback:function(a){e.$set(t,"ua_addr2",a)},expression:"addr.ua_addr2"}})],1),e._v(" "),a("b-col",[a("b-form-input",{attrs:{size:"sm",placeholder:"배송시 요청사항"},model:{value:t.ua_memo,callback:function(a){e.$set(t,"ua_memo",a)},expression:"addr.ua_memo"}})],1)],1)}))],2)}),[],!1,null,"56a274a2",null).exports}}]);