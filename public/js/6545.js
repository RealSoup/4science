"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6545],{3868:(t,e,a)=>{a.d(e,{Z:()=>s});var r=a(3645),n=a.n(r)()((function(t){return t[1]}));n.push([t.id,".adm_estimate .card.em_list .list_item>div[data-v-1136d280]{padding-bottom:15px;padding-top:15px}.adm_estimate .card.em_list .list_item:nth-child(2n)>div[data-v-1136d280]:nth-child(odd),.adm_estimate .card.em_list .list_item:nth-child(odd)>div[data-v-1136d280]:nth-child(2n){background-color:#ffeaea}.adm_estimate .card.em_list .list_item div[data-v-1136d280]:nth-child(3){text-align:right}.adm_estimate .card.em_list .list_item div:nth-child(3) .ctrl_box[data-v-1136d280]{float:right;margin-left:.3rem}.adm_estimate .card.em_list .list_item div:nth-child(3) .ctrl_box li[data-v-1136d280]{margin-bottom:.3rem}.adm_estimate .card.em_list .list_item div:nth-child(3) .ctrl_box li .btn[data-v-1136d280]{font-size:.8rem;padding:.2rem .4rem}",""]);const s=n},299:(t,e,a)=>{a.r(e),a.d(e,{default:()=>v});var r=a(7757),n=a.n(r),s=a(4670);function i(t,e,a,r,n,s,i){try{var o=t[s](i),l=o.value}catch(t){return void a(t)}o.done?e(l):Promise.resolve(l).then(r,n)}const o={components:{SchDate:function(){return a.e(5916).then(a.bind(a,5916))}},data:function(){return{list:{},mng:{},mng_info:{},sch_frm:{date_type:"reque",startDate:"",endDate:"",startPrice:"",endPrice:"",eq_type:"",eq_step:"",eq_mng:"",mng_group:"",keyword_type:"eq_name",keyword:"",page:0}}},methods:{index:function(){var t,e=this;return(t=n().mark((function t(){var a;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(e.sch_frm.startDate&&e.sch_frm.endDate&&e.sch_frm.startDate>e.sch_frm.endDate)){t.next=4;break}return Notify.modal("검색 시작일이 종료일보다 높을 수는 없습니다."),t.abrupt("return",!1);case 4:return t.next=6,s.Z.get("/api/admin/shop/estimate/",{params:e.sch_frm});case 6:(a=t.sent)&&200===a.status&&(e.list=a.data.list,e.mng=a.data.mng,e.mng_info=a.data.mng_info),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),Notify.consolePrint(t.t0),Notify.toast("warning",t.t0.response.data.message);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})),function(){var e=this,a=arguments;return new Promise((function(r,n){var s=t.apply(e,a);function o(t){i(s,r,n,o,l,"next",t)}function l(t){i(s,r,n,o,l,"throw",t)}o(void 0)}))})()},setPage:function(t){this.sch_frm.page=t,this.index()}},mounted:function(){this.index()},filters:{eqStep:function(t){var e="";switch(t){case"DONOT":e="미처리";break;case"DOING":e="처리중";break;case"DONE":e="완료";break;case"CANCEL":e="취소"}return e}}};var l=a(3379),_=a.n(l),c=a(3868),m={insert:"head",singleton:!1};_()(c.Z,m);c.Z.locals;const v=(0,a(1900).Z)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"adm_estimate"},[a("b-card",{staticClass:"shadow"},[a("b-container",{attrs:{fluid:""}},[a("SchDate",{model:{value:t.sch_frm,callback:function(e){t.sch_frm=e},expression:"sch_frm"}},[a("b-col",{attrs:{slot:"prev"},slot:"prev"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.sch_frm.date_type,expression:"sch_frm.date_type"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.sch_frm,"date_type",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"reque"}},[t._v("견적 요청일")]),t._v(" "),a("option",{attrs:{value:"reply"}},[t._v("견적 응답일")])])])],1),t._v(" "),a("b-row",{staticClass:"mb-1"},[a("b-col",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.sch_frm.eq_type,expression:"sch_frm.eq_type"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.sch_frm,"eq_type",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("요청 / 임의")]),t._v(" "),a("option",{attrs:{value:"REQ"}},[t._v("요청견적")]),t._v(" "),a("option",{attrs:{value:"TEMP"}},[t._v("임의견적")])])]),t._v(" "),a("b-col",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.sch_frm.eq_step,expression:"sch_frm.eq_step"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.sch_frm,"eq_step",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("처리단계")]),t._v(" "),a("option",{attrs:{value:"DONOT"}},[t._v("미처리")]),t._v(" "),a("option",{attrs:{value:"DOING"}},[t._v("처리중")]),t._v(" "),a("option",{attrs:{value:"DONE"}},[t._v("처리완료")]),t._v(" "),a("option",{attrs:{value:"CANCEL"}},[t._v("취소")])])]),t._v(" "),a("b-col",{attrs:{lg:"3",md:"4",sm:"6"}},[a("b-input-group",{attrs:{prepend:"견적금액"}},[a("b-form-input",{attrs:{formatter:t.priceComma,placeholder:"0"},model:{value:t.sch_frm.startPrice,callback:function(e){t.$set(t.sch_frm,"startPrice",e)},expression:"sch_frm.startPrice"}}),t._v(" "),a("b-form-input",{attrs:{formatter:t.priceComma,placeholder:"0"},model:{value:t.sch_frm.endPrice,callback:function(e){t.$set(t.sch_frm,"endPrice",e)},expression:"sch_frm.endPrice"}})],1)],1),t._v(" "),a("b-col",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.sch_frm.mng_group,expression:"sch_frm.mng_group"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.sch_frm,"mng_group",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("팀검색")]),t._v(" "),t._l(t.mng_info.group,(function(e,r){return a("option",{domProps:{value:r}},[t._v(t._s(e))])}))],2)]),t._v(" "),a("b-col",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.sch_frm.eq_mng,expression:"sch_frm.eq_mng"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.sch_frm,"eq_mng",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("담당자")]),t._v(" "),t._l(t.mng,(function(e){return a("option",{domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2)])],1),t._v(" "),a("b-row",{staticClass:"justify-content-end mt-3"},[a("b-col",{attrs:{md:"12",lg:"8"}},[a("b-input-group",[a("b-input-group-prepend",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.sch_frm.keyword_type,expression:"sch_frm.keyword_type"}],staticClass:"custom-select",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.sch_frm,"keyword_type",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"eq_name"}},[t._v("요청자명")]),t._v(" "),a("option",{attrs:{value:"eq_department"}},[t._v("소속")]),t._v(" "),a("option",{attrs:{value:"eq_tel"}},[t._v("전화번호")]),t._v(" "),a("option",{attrs:{value:"eq_hp"}},[t._v("휴대폰")]),t._v(" "),a("option",{attrs:{value:"eq_email"}},[t._v("이메일")]),t._v(" "),a("option",{attrs:{value:"eq_id"}},[t._v("요청번호")]),t._v(" "),a("option",{attrs:{value:"er_id"}},[t._v("견적번호")]),t._v(" "),a("option",{attrs:{value:"em_name"}},[t._v("제품명")]),t._v(" "),a("option",{attrs:{value:"em_code"}},[t._v("모델명")]),t._v(" "),a("option",{attrs:{value:"cat_no"}},[t._v("Cat.No")])])]),t._v(" "),a("b-form-input",{attrs:{placeholder:"Please enter a keyword"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.index.apply(null,arguments)}},model:{value:t.sch_frm.keyword,callback:function(e){t.$set(t.sch_frm,"keyword",e)},expression:"sch_frm.keyword"}}),t._v(" "),a("b-input-group-append",[a("b-button",{attrs:{variant:"outline-primary"},on:{click:t.index}},[t._v("Search")])],1)],1)],1)],1)],1)],1),t._v(" "),a("b-card",{staticClass:"shadow em_list"},[a("b-container",{attrs:{fluid:""}},[a("b-row",[a("b-col",{attrs:{sm:"12",md:"6"}},[t._v("total : "+t._s(this.list.total))]),t._v(" "),a("b-col",{staticClass:"text-right",attrs:{sm:"12",md:"6"}},[a("router-link",{attrs:{to:{name:"adm_estimate_create"}}},[a("b-button",{attrs:{variant:"primary",size:"sm"}},[t._v("임의견적")])],1)],1)],1),t._v(" "),a("hr"),t._v(" "),t._l(t.list.data,(function(e,r){return a("b-row",{key:e.eq_id,staticClass:"list_item"},[a("b-col",{attrs:{cols:"2"}},[a("div",{staticClass:"d-inline-block"},[a("b-badge",{attrs:{pill:"",variant:"dark"}},[t._v(t._s(e.eq_id))]),t._v(" "),a("b-badge",{attrs:{variant:"secondary"}},[e.eq_name?[t._v(t._s(e.eq_name))]:[t._v("(비회원)")]],2),t._v(" "),a("b-badge",{attrs:{variant:"light"}},[t._v(t._s(t._f("formatDate")(e.created_at)))]),t._v(" "),"TEMP"==e.eq_type?a("b-badge",{attrs:{variant:"warning"}},[t._v("임의")]):"REREQ"==e.eq_type?a("b-badge",{attrs:{variant:"warning"}},[t._v("재견적요청")]):t._e()],1)]),t._v(" "),a("b-col",{attrs:{cols:"8"}},[a("router-link",{staticClass:"btn btn-light btn-sm d-block text-left",attrs:{to:{name:"adm_estimate_show_req",params:{eq_id:e.eq_id}}},domProps:{innerHTML:t._s(e.eq_title)}})],1),t._v(" "),a("b-col",{attrs:{cols:"2"}},["DONOT"===e.eq_step?a("b-badge",{staticClass:"float-left",attrs:{variant:"warning"}},[t._v("미처리")]):"DOING"===e.eq_step?a("b-badge",{staticClass:"float-left",attrs:{variant:"primary"}},[t._v("처리중")]):"DONE"===e.eq_step?a("b-badge",{staticClass:"float-left",attrs:{variant:"success"}},[t._v("완료")]):"CANCEL"===e.eq_step?a("b-badge",{staticClass:"float-left",attrs:{variant:"danger"}},[t._v("취소")]):t._e(),t._v(" "),e.eq_mng_nm?a("b-badge",[t._v(t._s(e.eq_mng_nm))]):t._e(),t._v(" "),e.estimate_reply.length<1?a("b-button",{attrs:{size:"sm",variant:"light",to:{name:"adm_estimate_create",query:{eq_id:e.eq_id}}}},[a("b-icon-pencil-square"),t._v(" 견적서 작성\n                        ")],1):a("ul",{staticClass:"ctrl_box"},t._l(e.estimate_reply,(function(e,r){return a("li",[0===r?a("b-button",{attrs:{size:"sm",variant:"success",to:{name:"adm_estimate_show_reply",params:{er_id:e.er_id}}}},[a("b-icon-clipboard-data"),t._v(" 견적서")],1):a("b-button",{attrs:{size:"sm",variant:"warning",to:{name:"adm_estimate_show_reply",params:{er_id:e.er_id}}}},[a("b-icon-back"),t._v(" 재견적서")],1),t._v(" "),a("b-badge",{attrs:{pill:"",variant:"dark"}},[t._v(t._s(e.er_id))])],1)})),0)],1)],1)}))],2),t._v(" "),a("pagination",{staticClass:"mt-5",attrs:{data:t.list,align:"center"},on:{"pagination-change-page":t.setPage}})],1)],1)}),[],!1,null,"1136d280",null).exports}}]);